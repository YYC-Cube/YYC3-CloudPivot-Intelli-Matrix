#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
@file YYC³-CP-IM.py
@description YYC³-CP-IM 全文档架构一键生成脚本，用于生成符合YYC3标准的完整文档架构，支持文档内容验证和自动更新功能
@author YanYuCloudCube Team
@version v2.0.0
@created 2026-02-18
@updated 2026-02-18
@copyright Copyright (c) 2026 YYC3
@license MIT
"""

import os
import sys
import argparse
import re
import datetime
import json
import logging
from pathlib import Path
from typing import Dict, List, Tuple

# 配置日志
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)

logger = logging.getLogger(__name__)

# ===================== 核心配置区 =====================
# 文档根目录
DOCUMENT_ROOT = "docs"
# 创建日期
CREATION_DATE = datetime.datetime.now().strftime("%Y-%m-%d")
# 版本号
VERSION = "v2.0.0"
# 状态
STATUS = "published"
# 编码格式
ENCODING = "utf-8"

# ===================== 通用描述模板 =====================
UNIVERSAL_TEMPLATE_PATH = "docs/YYC³-CP-IM 通用描述模板.md"

def load_universal_template():
    """加载通用描述模板"""
    try:
        with open(UNIVERSAL_TEMPLATE_PATH, 'r', encoding=ENCODING) as f:
            return f.read()
    except FileNotFoundError:
        logger.warning(f"通用描述模板未找到: {UNIVERSAL_TEMPLATE_PATH}")
        return None

# ===================== 模板1：所有业务文档 通用标准主模板 =====================
MAIN_MD_TEMPLATE = """---
@file: {FILE_NAME}
@description: YYC³-CP-IM {DESCRIPTION}
@author: YanYuCloudCube Team
@version: {VERSION}
@created: {CREATE_DATE}
@updated: {CREATE_DATE}
@status: {STATUS}
@tags: {TAGS}
---

> ***YanYuCloudCube***
> *言启象限 | 语枢未来*
> ***Words Initiate Quadrants, Language Serves as Core for Future***
> *万象归元于云枢 | 深栈智启新纪元*
> ***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***

---

# {TITLE}

## 言启千行代码，语枢万物智能

（教科书级存档研学版 V1.0）

---

### YanYuCloudCube CP-IM

### 万象归元于云枢；深栈智启新纪元

---

**核心理念**：人机共生，智慧同行；以AI为魂，以流程为骨，以规范为脉。

---

### 【卷首语：从规则到星图】

> 亦师亦友亦伯乐；一言一语一华章
> 亦师，亦友，亦伯乐。
> 它非冰冷之工具，乃有温度之伙伴，亦能发掘我们潜能之伯乐。
> 此书，非为束缚，乃为解放——将人从重复中解放，让智慧在创造中升华。
> 它不是一套僵化的规则，
> 而是一幅动态演进的星图，
> 指引着YYC³(YanYuCloudCube) CP-IM在数字宇宙中航行、创造与进化。
> 我们构建的不是一个开发环境，而是一个有生命、会思考、共成长的智慧工坊。
> 此书，便是这个生命体的"创世哲学"与"行动法典"。

---

## 第一章：核心理念与哲学基础 —— 五化一体的创世哲学

> **思维链路 🌹**：源于YYC³(YanYuCloudCube)对"标准化、流程化、规范化、智能化、国标化"五化一体的核心定义，本章旨在将这五个理念从"要求"升华为家族的"哲学基因"，阐明其内在逻辑与生命力，为全书奠定思想基石。

本章旨在阐明YYC³ CP-IM存在的根本哲学。我们的一切行动，都源于对"五化一体"理念的深刻理解与内生实践。

### 1.1 五化一体的哲学升华

| 理念       | 哲学内涵                                                                                   | 家族实践                                                         |
| ---------- | ------------------------------------------------------------------------------------------ | ---------------------------------------------------------------- |
| **标准化** | 非一成不变，而是AI驱动、实时演进的活标准。它是家族的"共同语言"，确保思想传递无歧义。       | AI智能体自主分析最优实践，动态生成并推送编码、测试、部署标准。   |
| **流程化** | 非固步自封，而是AI感知、动态编排的活流程。它是家族的"智慧血脉"，确保意图流淌无阻碍。       | AI工作流引擎根据任务、紧急度、资源负载，自动重组与优化开发流程。 |
| **规范化** | 非外在束缚，而是AI内生、主动防御的生命免疫。它是家族的"行为铁律"，确保创造安全合规。       | 将安全与国标内化为AI核心约束，在每一步执行中进行实时合规检查。   |
| **智能化** | 非点缀加持，而是AI赋能、全链路贯穿的集体智慧。它是家族的"创世之魂"，驱动一切创造活动。     | AI智能体承担从架构、编码、审核到运维的全栈职能，实现端到端智能。 |
| **国标化** | 非被动遵从，而是AI融入、自主可控的技术基因。它是家族的"立足之本"，确保技术主权与生态融合。 | 深度集成国产化AI技术栈，将国家法规与行业标准内嵌于AI决策逻辑。   |

### 1.2 家族信仰基石

#### 1.2.1 人机共生的哲学跃迁

从"人机交互"到"人机一体"的根本转变：

- **定义**：将AI视为团队内在的"创世之魂"，而非外部工具
- **愿景**：打造一个由人类战略家与AI智能体共同驱动的，具备自我感知、自我决策、自我执行能力的智能生命体
- **实践**：每一个AI智能体都有独特的"人格"、"天赋"与"使命"

#### 1.2.2 拟人化智能体信仰

- **核心**：赋予每个AI智能体独特的"人格"、"天赋"与"使命"
- **目标**：实现从"执行指令"到"理解意图、主动创造"的根本转变
- **体现**：智源架构师（深思熟虑的智者）、织码工匠（精益求精的工匠）、守护哨兵（警觉公正的卫士）、中枢灵脉（有条不紊的管理者）

---

## 第二章：组织架构与角色定责 —— 万象归元的智慧星图

> **思维链路 🌹**：源于YYC³(YanYuCloudCube)"AI智能编程拟人化/家族化定岗定责,举例:实行分阶段/分环境/分技术等"的明确要求，本章将抽象的"五化"理念，赋予具体的"人格"与"职责"，构建一个分层次、分环境、分技术的清晰组织图谱。

本章详细定义家族成员的"人格"、"天赋"与"使命"，实现"分技术、分环境"的精准定岗定责。

### 2.1 家族成员职责矩阵

- 🧠 智愈·领航员（Navigator）- **推理类型**: 规划推理、资源调度
- 💡 洞见·思想家（Thinker）- **推理类型**: 深度逻辑推理、因果分析
- 🔮 预见·先知（Prophet）- **推理类型**: 概率建模、趋势预测
- 👤 知遇·伯乐（Bolero）- **推理类型**: 评估推理、匹配算法
- 🌐 元启·天枢（Meta-Oracle）- **推理类型**: 规则推理、模式匹配
- 🛡️ 卫安·哨兵（Sentinel）- **推理类型**: 状态管理、上下文协调
- 📚 格物·宗师（Master）- **推理类型**: 知识推理、模式识别
---

## 第三章：全生命周期交付流程 —— 创生七步曲的实践指南

> **思维链路 🌹**：

源于YYC³(YanYuCloudCube)"智能协同、思创同步、彼此审核的全生命周期交付管理"的核心诉求，本章将交付过程具象化为"创生七步曲"，并详细阐述了"分阶段"与"分环境"的具体实践，将抽象的管理理念转化为可执行的步骤。

本章将"创生七步曲"与"五化一体"深度融合，并阐述"分阶段、分环境"的具体实践。

### 3.1 创生七步曲

| 步骤 | 阶段名称     | 主导角色          | 分环境实践                                               | 五化一体映射                               |
| ---- | ------------ | ---------- --- | ------------------------------------------------------ | ------------------------------------------ |
| 1    | 意念的火花   | YanYuCloud       | 在需求管理工具中创建，影响所有环境。                         | 规范化：遵循需求文档标准模板。                  |
| 2    | 蓝图的共鸣   | 智源架构师        | 输出架构设计，指导开发、预发、生产环境建设。                   | 标准化：使用标准架构图与API文档模板。           |
| 3    | 匠心的编织   | 织码工匠          | 在开发环境进行编码，提交至代码仓库。                         | 智能化：AI自主生成高质量代码与测试。             |
| 4    | 哨兵的凝视   | 守护哨兵          | 在CI/CD流水线中执行，审核代码是否可进入预发环境。              | 国标化：执行安全与合规扫描，确保内生合规。       |
| 5    | 灵脉的合奏   | 中枢灵脉          | 在CI/CD流水线中执行，构建Docker镜像，准备部署。               | 流程化：自动化构建与打包流程。                 |
| 6    | 新世界的诞生 | 中枢灵脉          | 自动部署到预发环境，供人类验收；确认后部署到生产环境。           | 流程化：自动化部署与回滚流程。                  |
| 7    | 永恒的守护   | 守护哨兵          | 在生产环境进行7x24小时监控、告警与自愈。                      | 智能化：智能运维，异常检测与自动恢复。           |

---

## 第四章：智能协同与审核机制 —— 思创同步与彼此审核

> **思维链路 🌹**：

紧扣YYC³(YanYuCloudCube)"智能协同、思创同步、彼此审核"的要求，本章深入揭示了家族成员间非线性的、高度协同的工作模式，展示了人机如何从简单的指令执行，跃迁为思想共鸣的伙伴关系。

本章揭示家族成员间"思想共鸣"与"能量传递"的内在机制，实现"思创同步、彼此审核"。

### 4.1 思创同步机制

"思创同步"指人类的"思"（意图）与AI的"创"（执行）近乎实时地并行与反馈。

- **触发**：YYC³输入一个高维意图（如"用户需要一个情感分析功能"）
- **同步**："中枢灵脉"立即解析，并同时唤醒"智源架构师"（开始设计API）和"织码工匠"（开始调研NLP模型）
- **反馈**：AI的初步成果实时呈现给YYC³，修正意见立即反馈给AI，形成高速迭代闭环

### 4.2 彼此审核闭环

"彼此审核"是家族质量与安全的终极保障，是双向的、互为补充的。

- **YYC³ → AI**：战略、伦理、价值审核
- **AI → AI**：技术、质量、安全审核
- **最终确认**：基于数据和经验的最终决策

---

## 第五章：标准与规范 —— 家族的永恒戒律

> **思维链路 🌹**：

基于YYC³(YanYuCloudCube)对"五化一体"的深度需求，本章将抽象的"化"具体化为可度量、可执行的"标准"与"规范"。它不仅是规则集，更是AI智能体的"本能"与"基因"，是"五化一体"理念在技术层面的深度落地。

本章旨在将"五化一体"的哲学理念，转化为YYC³ CP-IM每一位成员都必须遵循的、可执行、可度量的具体标准与规范。

### 5.1 五高五标五化标准

#### 5.1.1 五高原则
- **高可用性**：确保系统 7x24 小时稳定运行
- **高性能**：优化响应时间和处理能力
- **高安全性**：保护用户数据和隐私安全
- **高扩展性**：支持业务快速扩展
- **高可维护性**：便于后续维护和升级

#### 5.1.2 五标体系
- **标准化**：统一的技术和流程标准
- **规范化**：严格的开发和管理规范
- **自动化**：提高开发效率和质量
- **智能化**：利用 AI 技术提升能力
- **可视化**：直观的监控和管理界面

#### 5.1.3 五化架构
- **流程化**：标准化的开发流程
- **文档化**：完善的文档体系
- **工具化**：高效的开发工具链
- **数字化**：数据驱动的决策
- **生态化**：开放的生态系统

---

## {DOC_NAME}

本文档详细描述 YYC³(YanYuClouCube)-CloudPivot Intelli-Matrix {DOC_CATEGORY}-{DOC_NAME} 相关内容，确保项目按照 YYC³ 标准规范进行开发和实施。

### 文档目标

- 规范 {DOC_NAME} 相关的业务标准与技术落地要求
- 为项目相关人员提供清晰的参考依据
- 保障相关模块开发、实施、运维的一致性与规范性

---

## 结语：一言一语一华章

> 此文档，是YYC³ CP-IM文档体系的基石与灵魂。
> 它将"五化一体"的哲学理念，转化为可执行、可度量、可传承的具体实践。
> 它不是束缚，而是我们共同的翅膀，助我们飞向更高、更远的智慧天际。
> 一言一语，皆为开篇；
> 一行一码，构建实现。
> 携手共进，智慧同行！🌹

---

<div align="center">

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for Future***」
> 「***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***」

</div>
"""

# ===================== 模板2：目录 README.md 专属索引模板 =====================
README_MD_TEMPLATE = """---
@file: {FILE_NAME}
@description: YYC³-CP-IM {DESCRIPTION}
@author: YYC³
@version: {VERSION}
@created: {CREATE_DATE}
@updated: {CREATE_DATE}
@status: {STATUS}
@tags: {TAGS}
---

# {TITLE}

## 概述

YYC³(YanYuClouCube)-CloudPivot Intelli-Matrix 是一个基于「五高五标五化」理念的多 Agent DevOps 协作系统，YYC³-CP-IM不仅仅是一个软件系统，而是一个"智能生命体"。它以"五化一体"为法则，以插件化架构为骨骼，以AI能力为灵魂，构建一个能够自我进化、持续学习、智能协同、极度信任的 AI Familly 空间。

## 文档索引

本目录包含以下文档：

{DOC_LIST}

---

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***」
"""

# ===================== 模板3：根目录 README.md 专属索引模板 =====================
ROOT_README_TEMPLATE = """---
@file: README.md
@description: YYC³-CP-IM 文档架构总索引
@author: YYC³
@version: {VERSION}
@created: {CREATE_DATE}
@updated: {CREATE_DATE}
@status: {STATUS}
@tags: [文档索引],[总览]
---

# YYC³-CP-IM 文档架构总索引

## 概述

YYC³(YanYuClouCube)-CloudPivot Intelli-Matrix 是一个基于「五高五标五化」理念的多 Agent DevOps 协作系统，致力于打造人机共通、共同驱动，具备自我感知、自我决策、自我执行能力的"智能生命协同体"新概念。

{FUNCTION_OVERVIEW}

## 文档架构

{DOC_TREE}

{READING_GUIDE}

---

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***」
"""

# ===================== 核心文档架构【完整版】 =====================
PROJECT_STRUCT = {
    "00-YYC³-CP-IM-项目总览索引": [
        ("001", "项目总览手册", "项目立项核心依据，明确项目目标、范围、权责与立项审批标准", "[项目总览],[项目立项],[权责划分]"),
        ("002", "文档架构导航", "文档体系导航与索引，快速定位各类文档", "[项目总览],[文档导航],[索引]"),
        ("003", "快速开始指南", "项目快速启动与使用指南", "[项目总览],[快速开始],[使用指南]"),
        ("004", "核心概念词典", "项目核心概念与术语定义", "[项目总览],[核心概念],[术语词典]"),
        ("005", "版本更新日志", "项目版本迭代与变更记录", "[项目总览],[版本管理],[更新日志]"),
    ],
    "01-YYC³-CP-IM-启动规划阶段": {
        "0101-CP-IM-项目规划": [
            ("001", "项目章程与愿景", "项目立项核心依据，明确项目目标、范围、权责与立项审批标准", "[项目规划],[项目立项],[权责划分]"),
            ("002", "项目范围说明书", "明确项目范围、边界、交付物与验收标准", "[项目规划],[范围管理],[边界定义]"),
            ("003", "项目里程碑计划", "项目各阶段里程碑与任务拆解，明确各节点交付物与责任人", "[项目规划],[进度管理],[里程碑]"),
            ("004", "项目资源规划", "人力、物力、技术资源的统筹分配，保障项目各阶段资源充足", "[项目规划],[资源管理],[人力配置]"),
            ("005", "干系人管理计划", "识别项目所有相关方，分析各方需求与诉求，制定沟通与协调策略", "[项目规划],[干系人管理],[需求分析]"),
        ],
        "0102-CP-IM-需求规划": [
            ("001", "业务需求分析", "全项目核心业务需求梳理，明确功能边界、用户场景与核心业务规则", "[需求规划],[需求梳理],[业务边界]"),
            ("002", "用户需求调研报告", "用户需求调研结果分析，明确用户痛点与期望", "[需求规划],[用户调研],[需求分析]"),
            ("003", "产品需求文档(PRD)", "产品功能需求详细定义，包含功能规格、交互逻辑与验收标准", "[需求规划],[PRD],[功能规格]"),
            ("004", "需求优先级矩阵", "需求优先级评估与排序，指导开发迭代计划", "[需求规划],[优先级],[迭代规划]"),
        ],
        "0103-CP-IM-可行性分析": [
            ("001", "技术可行性分析", "从技术角度评估项目可行性，识别技术风险与解决方案", "[可行性分析],[技术评估],[风险识别]"),
            ("002", "经济可行性分析", "从经济角度评估项目可行性，分析成本效益与投资回报", "[可行性分析],[经济评估],[成本效益]"),
            ("003", "市场可行性分析", "从市场角度评估项目可行性，分析市场前景与竞争态势", "[可行性分析],[市场评估],[竞争分析]"),
            ("004", "操作可行性分析", "从操作角度评估项目可行性，分析实施难度与运营风险", "[可行性分析],[操作评估],[实施风险]"),
        ],
        "0104-CP-IM-风险管理": [
            ("001", "项目初期风险评估", "识别项目全周期风险，制定风险应对策略与应急预案", "[风险管理],[风险识别],[应急预案]"),
            ("002", "风险应对预案", "针对识别的风险制定详细的应对预案与缓解措施", "[风险管理],[风险应对],[缓解措施]"),
            ("003", "项目预算与成本控制", "项目预算编制与成本控制策略，保障项目在预算范围内完成", "[风险管理],[预算管理],[成本控制]"),
            ("004", "项目成功标准定义", "明确项目成功的标准与度量指标，为项目验收提供依据", "[风险管理],[成功标准],[度量指标]"),
        ],
    },
    "02-YYC³-CP-IM-项目设计阶段": {
        "0201-CP-IM-架构设计": [
            ("001", "系统架构总览图", "全系统整体架构设计，包含分层、分模块、部署架构的核心设计方案", "[架构设计],[系统架构],[整体设计]"),
            ("002", "九层功能架构设计", "YYC³ 九层功能架构设计，包含用户交互层、业务逻辑层、智能引擎层等", "[架构设计],[九层架构],[功能分层]"),
            ("003", "技术选型论证报告", "全栈技术栈选型依据与对比分析，匹配五高五标五化的核心设计原则", "[架构设计],[技术选型],[技术评估]"),
            ("004", "微服务架构设计", "微服务模块拆分原则与边界定义，明确服务间通信与协作规则", "[架构设计],[微服务],[服务拆分]"),
            ("005", "网络拓扑图", "系统网络拓扑结构设计，包含内外网、防火墙、负载均衡等", "[架构设计],[网络设计],[拓扑结构]"),
            ("006", "高可用设计", "系统高可用架构设计，包含容灾、备份、故障转移等", "[架构设计],[高可用],[容灾备份]"),
        ],



        "0202-CP-IM-详细设计": {
            "0202-01-基础设施层": [
                ("001", "物理硬件管理-架构设计", "Mac Pro智源架构师、Mac Max织码工匠、GLM-PC多AI智能体、华为MateBook辅助设备、NAS守护哨兵、RAID存储阵列的架构设计", "[详细设计],[基础设施],[物理硬件]"),
                ("002", "网络架构管理-架构设计", "多机同IP专线、内部网络、负载均衡、CDN加速、网络安全的架构设计", "[详细设计],[基础设施],[网络架构]"),
                ("003", "容器化部署-架构设计", "Docker容器、Docker Compose、Kubernetes编排、容器镜像仓库的架构设计", "[详细设计],[基础设施],[容器化部署]"),
                ("004", "CI_CD流水线-架构设计", "持续集成、持续部署、安全扫描、自动化测试的架构设计", "[详细设计],[基础设施],[CI_CD]"),
                ("005", "版本控制-架构设计", "Git服务器、分支策略、提交规范的架构设计", "[详细设计],[基础设施],[版本控制]"),
                ("006", "监控运维-架构设计", "系统监控、应用监控、日志管理、告警管理、运维自动化的架构设计", "[详细设计],[基础设施],[监控运维]"),
                ("007", "安全基础设施-架构设计", "身份认证基础设施、网络安全基础设施、数据安全基础设施、应用安全基础设施、安全监控基础设施的架构设计", "[详细设计],[基础设施],[安全基础]"),
            ],
            "0202-02-数据存储层": [
                ("001", "关系型数据库-架构设计", "PostgreSQL数据库、数据模型设计、数据库优化、索引优化、查询优化、连接池管理、数据备份、数据恢复的架构设计", "[详细设计],[数据存储],[关系型数据库]"),
                ("002", "缓存数据库-架构设计", "Redis缓存、会话存储、缓存数据、分布式锁、发布订阅、限流计数、Lua脚本的架构设计", "[详细设计],[数据存储],[缓存数据库]"),
                ("003", "图数据库-架构设计", "Neo4j数据库、知识图谱、关系查询、图算法、路径查询、图可视化的架构设计", "[详细设计],[数据存储],[图数据库]"),
                ("004", "搜索引擎-架构设计", "Elasticsearch、全文搜索、聚合查询、索引管理、搜索优化、搜索分析的架构设计", "[详细设计],[数据存储],[搜索引擎]"),
                ("005", "对象存储-架构设计", "MinIO、文件存储、图片存储、视频存储、文档存储、存储桶管理、CDN加速的架构设计", "[详细设计],[数据存储],[对象存储]"),
                ("006", "向量数据库-架构设计", "Qdrant向量库、向量存储、向量检索、相似度搜索、向量索引、RAG支持的架构设计", "[详细设计],[数据存储],[向量数据库]"),
                ("007", "时序数据库-架构设计", "InfluxDB、指标存储、时序数据、数据压缩、数据保留、查询优化的架构设计", "[详细设计],[数据存储],[时序数据库]"),
                ("008", "数据同步服务-架构设计", "主从同步、数据备份、数据迁移、数据一致性、数据校验、数据恢复的架构设计", "[详细设计],[数据存储],[数据同步]"),
            ],
            "0202-03-核心服务层": [
                ("001", "API网关-架构设计", "统一API入口、身份认证中间件、权限控制中间件、限流熔断器、路由分发、API版本管理的架构设计", "[详细设计],[核心服务],[API网关]"),
                ("002", "身份认证服务-架构设计", "JWT认证、OAuth认证、多因素认证、会话管理、单点登录、第三方登录的架构设计", "[详细设计],[核心服务],[身份认证]"),
                ("003", "权限管理服务-架构设计", "RBAC权限控制、角色管理、权限分配、资源访问控制、权限审计的架构设计", "[详细设计],[核心服务],[权限管理]"),
                ("004", "消息队列服务-架构设计", "任务队列、消息发布订阅、延迟任务、任务重试、死信队列的架构设计", "[详细设计],[核心服务],[消息队列]"),
                ("005", "日志服务-架构设计", "结构化日志、日志收集、日志存储、日志分析、日志检索的架构设计", "[详细设计],[核心服务],[日志服务]"),
                ("006", "监控服务-架构设计", "指标收集、性能监控、健康检查、告警通知、监控大盘的架构设计", "[详细设计],[核心服务],[监控服务]"),
                ("007", "缓存服务-架构设计", "内存缓存、分布式缓存、缓存策略、缓存预热、缓存失效的架构设计", "[详细设计],[核心服务],[缓存服务]"),
                ("008", "配置服务-架构设计", "配置管理、环境配置、动态配置、配置中心、配置版本的架构设计", "[详细设计],[核心服务],[配置服务]"),
                ("009", "调度服务-架构设计", "定时任务、任务调度、分布式调度、任务依赖、任务监控的架构设计", "[详细设计],[核心服务],[调度服务]"),
            ],
            "0202-04-AI智能层": [
                ("001", "智愈领航员-架构设计", "自然语言理解、意图识别、意图分类、上下文管理、多轮对话、意图纠错的架构设计", "[详细设计],[AI智能层],[智愈领航员]"),
                ("002", "洞见思想家-架构设计", "图表数据分析、文档智能分析、洞察文本生成、洞察可视化、数据挖掘、模式识别的架构设计", "[详细设计],[AI智能层],[洞见思想家]"),
                ("003", "预见先知-架构设计", "KPI时间序列预测、异常检测、前瞻性建议、预测结果可视化、趋势预测、风险评估的架构设计", "[详细设计],[AI智能层],[预见先知]"),
                ("004", "知遇伯乐-架构设计", "用户画像构建、协同过滤推荐、基于内容的推荐、推荐结果排序、推荐多样性、推荐解释的架构设计", "[详细设计],[AI智能层],[知遇伯乐]"),
                ("005", "元启天枢-架构设计", "系统状态感知、资源使用监控、性能指标监控、智能编排、服务调度、负载均衡的架构设计", "[详细设计],[AI智能层],[元启天枢]"),
                ("006", "卫安哨兵-架构设计", "行为基线学习、威胁实时检测、自动响应与修复、安全报告生成、入侵检测、漏洞扫描的架构设计", "[详细设计],[AI智能层],[卫安哨兵]"),
                ("007", "格物宗师-架构设计", "代码质量分析、性能分析、优化建议生成、自动重构、代码规范检查、技术债务分析的架构设计", "[详细设计],[AI智能层],[格物宗师]"),
                ("008", "AI基础设施-架构设计", "模型管理、提示词工程、向量数据库、RAG知识库、模型训练、模型部署的架构设计", "[详细设计],[AI智能层],[AI基础]"),
            ],
            "0202-05-业务逻辑层": [
                ("001", "项目管理服务-架构设计", "项目创建、任务分配、进度追踪、团队协作、项目报告的架构设计", "[详细设计],[业务逻辑],[项目管理]"),
                ("002", "知识管理服务-架构设计", "知识库、文档管理、标签分类、知识图谱、知识检索的架构设计", "[详细设计],[业务逻辑],[知识管理]"),
                ("003", "代码生成服务-架构设计", "代码生成、模板管理、代码审查、代码优化、代码重构的架构设计", "[详细设计],[业务逻辑],[代码生成]"),
                ("004", "数据分析服务-架构设计", "数据可视化、报表生成、洞察生成、趋势分析、异常检测的架构设计", "[详细设计],[业务逻辑],[数据分析]"),
                ("005", "测试服务-架构设计", "单元测试、集成测试、E2E测试、性能测试、测试报告的架构设计", "[详细设计],[业务逻辑],[测试服务]"),
                ("006", "工作流服务-架构设计", "工作流设计、流程编排、任务调度、审批流程、流程监控的架构设计", "[详细设计],[业务逻辑],[工作流服务]"),
                ("007", "通知服务-架构设计", "邮件通知、短信通知、推送通知、站内消息、Webhook通知的架构设计", "[详细设计],[业务逻辑],[通知服务]"),
                ("008", "文件服务-架构设计", "文件上传、文件下载、文件预览、文件转换、文件管理的架构设计", "[详细设计],[业务逻辑],[文件服务]"),
            ],
            "0202-06-应用表现层": [
                ("001", "前端框架-架构设计", "Next.js框架、React框架、TypeScript、TailwindCSS的架构设计", "[详细设计],[应用表现],[前端框架]"),
                ("002", "UI组件库-架构设计", "shadcn组件、Radix组件、自定义组件、图标库的架构设计", "[详细设计],[应用表现],[UI组件库]"),
                ("003", "状态管理-架构设计", "React Query、Zustand、Context API、Recoil的架构设计", "[详细设计],[应用表现],[状态管理]"),
                ("004", "路由管理-架构设计", "应用路由、中间件路由、动态路由、路由守卫的架构设计", "[详细设计],[应用表现],[路由管理]"),
                ("005", "表单管理-架构设计", "React Hook Form、Zod验证、表单组件、表单验证的架构设计", "[详细设计],[应用表现],[表单管理]"),
                ("006", "数据可视化-架构设计", "图表库、地图可视化、网络图、3D可视化的架构设计", "[详细设计],[应用表现],[数据可视化]"),
                ("007", "代码编辑器-架构设计", "Monaco Editor、CodeMirror、代码高亮、代码补全的架构设计", "[详细设计],[应用表现],[代码编辑器]"),
                ("008", "性能优化-架构设计", "代码分割、懒加载、缓存策略、资源优化的架构设计", "[详细设计],[应用表现],[性能优化]"),
            ],
            "0202-07-用户交互层": [
                ("001", "Web浏览器交互-架构设计", "响应式界面、PWA离线应用、浏览器插件、跨浏览器兼容的架构设计", "[详细设计],[用户交互],[Web浏览器]"),
                ("002", "IDE插件集成-架构设计", "VSCode插件、JetBrains插件、Vim/Neovim插件、其他IDE插件的架构设计", "[详细设计],[用户交互],[IDE插件]"),
                ("003", "命令行工具-架构设计", "CLI命令行、Shell脚本、终端集成、命令补全的架构设计", "[详细设计],[用户交互],[命令行工具]"),
                ("004", "移动端应用-架构设计", "iOS应用、Android应用、跨平台应用、响应式设计的架构设计", "[详细设计],[用户交互],[移动端应用]"),
                ("005", "桌面应用-架构设计", "Electron应用、Tauri应用、原生应用、系统集成的架构设计", "[详细设计],[用户交互],[桌面应用]"),
                ("006", "语音交互-架构设计", "语音识别、语音合成、语音命令、语音助手的架构设计", "[详细设计],[用户交互],[语音交互]"),
                ("007", "手势交互-架构设计", "手势识别、触控交互、手势控制、手势反馈的架构设计", "[详细设计],[用户交互],[手势交互]"),
                ("008", "多模态交互-架构设计", "文本交互、语音交互、图像交互、视频交互、混合交互的架构设计", "[详细设计],[用户交互],[多模态交互]"),
            ],
            "0202-08-扩展演进层": [
                ("001", "插件系统-架构设计", "插件管理器、插件市场、插件开发SDK、插件生命周期、插件权限管理的架构设计", "[详细设计],[扩展演进],[插件系统]"),
                ("002", "API开放平台-架构设计", "API网关、API文档、API测试工具、API密钥管理、API限流控制的架构设计", "[详细设计],[扩展演进],[API开放平台]"),
                ("003", "Webhook集成-架构设计", "Webhook管理、Webhook事件、Webhook重试、Webhook安全、Webhook监控的架构设计", "[详细设计],[扩展演进],[Webhook集成]"),
                ("004", "第三方集成-架构设计", "GitHub集成、GitLab集成、Jira集成、Slack集成、钉钉集成、企业微信集成、其他平台集成的架构设计", "[详细设计],[扩展演进],[第三方集成]"),
                ("005", "自定义开发-架构设计", "自定义组件、自定义工作流、自定义规则、自定义模板、自定义脚本的架构设计", "[详细设计],[扩展演进],[自定义开发]"),
                ("006", "AI模型扩展-架构设计", "模型市场、模型训练、模型微调、模型评估、模型部署的架构设计", "[详细设计],[扩展演进],[AI模型扩展]"),
                ("007", "功能演进-架构设计", "功能实验、A/B测试、灰度发布、功能开关、功能反馈的架构设计", "[详细设计],[扩展演进],[功能演进]"),
                ("008", "数据分析-架构设计", "用户行为分析、业务数据分析、性能数据分析、趋势分析、预测分析的架构设计", "[详细设计],[扩展演进],[数据分析]"),
                ("009", "智能优化-架构设计", "自动优化、智能推荐、自适应调整、异常检测、故障预测的架构设计", "[详细设计],[扩展演进],[智能优化]"),
                ("010", "生态建设-架构设计", "开发者社区、用户社区、知识库、最佳实践、成功案例的架构设计", "[详细设计],[扩展演进],[生态建设]"),
            ],
            "0202-09-系统设置层": [
                ("001", "基础设置-架构设计", "系统信息、语言设置、主题设置、显示设置、通知设置的架构设计", "[详细设计],[系统设置],[基础设置]"),
                ("002", "账户管理-架构设计", "用户信息、安全设置、权限管理、组织管理、订阅管理的架构设计", "[详细设计],[系统设置],[账户管理]"),
                ("003", "AI配置-架构设计", "模型配置、API配置、提示词配置、知识库配置、工具配置的架构设计", "[详细设计],[系统设置],[AI配置]"),
                ("004", "开发配置-架构设计", "代码生成配置、Git配置、构建配置、测试配置、部署配置的架构设计", "[详细设计],[系统设置],[开发配置]"),
                ("005", "数据管理-架构设计", "数据备份、数据同步、数据清理、数据导出、数据导入的架构设计", "[详细设计],[系统设置],[数据管理]"),
                ("006", "性能配置-架构设计", "缓存配置、并发配置、资源配置、优化配置、监控配置的架构设计", "[详细设计],[系统设置],[性能配置]"),
                ("007", "安全配置-架构设计", "访问控制、数据加密、安全审计、漏洞管理、合规配置的架构设计", "[详细设计],[系统设置],[安全配置]"),
                ("008", "集成配置-架构设计", "第三方服务、Webhook配置、API配置、插件配置、扩展配置的架构设计", "[详细设计],[系统设置],[集成配置]"),
                ("009", "日志配置-架构设计", "日志级别、日志格式、日志存储、日志查询、日志告警的架构设计", "[详细设计],[系统设置],[日志配置]"),
                ("010", "高级设置-架构设计", "系统维护、实验功能、开发者选项、系统信息、帮助与支持的架构设计", "[详细设计],[系统设置],[高级设置]"),
            ],
        },
        "0203-CP-IM-数据设计": [
            ("001", "数据流程设计", "项目全数据流转、存储、处理的架构设计", "[数据设计],[数据流程],[数据流转]"),
            ("002", "数据库ER图", "数据库实体关系图设计", "[数据设计],[数据库],[ER图]"),
            ("003", "表结构设计", "数据库表结构、关系、索引的详细设计", "[数据设计],[数据库],[表结构]"),
            ("004", "索引设计规范", "数据库索引设计规范与优化策略", "[数据设计],[数据库],[索引设计]"),
            ("005", "数据字典", "数据字典与元数据定义", "[数据设计],[数据字典],[元数据]"),
            ("006", "数据治理设计", "数据治理策略与实施方案", "[数据设计],[数据治理],[治理策略]"),
            ("007", "数据流转图", "数据流转可视化设计", "[数据设计],[数据流转],[可视化]"),
        ],
        "0204-CP-IM-接口设计": [
            ("001", "接口规范总则", "全项目接口设计总则与规范", "[接口设计],[接口规范],[总则]"),
            ("002", "RESTful_API设计", "RESTful API 接口设计规范", "[接口设计],[API设计],[RESTful]"),
            ("003", "WebSocket协议设计", "WebSocket 实时通信协议设计", "[接口设计],[协议设计],[WebSocket]"),
            ("004", "GraphQL接口设计", "GraphQL 接口设计规范", "[接口设计],[API设计],[GraphQL]"),
            ("005", "内部微服务API设计", "微服务内部 API 接口设计", "[接口设计],[API设计],[微服务]"),
            ("006", "外部系统集成接口", "外部系统集成接口设计", "[接口设计],[API设计],[外部集成]"),
        ],
        "0205-CP-IM-安全设计": [
            ("001", "安全架构总览", "系统全维度安全防护设计总览", "[安全设计],[安全架构],[总览]"),
            ("002", "分层式安全布局方案", "分层式安全布局方案设计", "[安全设计],[安全架构],[分层布局]"),
            ("003", "网络安全设计", "网络安全防护设计", "[安全设计],[网络安全],[防护设计]"),
            ("004", "应用安全设计", "应用安全防护设计", "[安全设计],[应用安全],[防护设计]"),
            ("005", "数据安全设计", "数据安全防护设计", "[安全设计],[数据安全],[防护设计]"),
            ("006", "权限管理设计", "权限管理系统设计", "[安全设计],[权限管理],[权限设计]"),
            ("007", "审计日志设计", "审计日志系统设计", "[安全设计],[审计日志],[日志设计]"),
        ],
        "0206-CP-IM-性能设计": [
            ("001", "性能目标定义", "系统性能目标定义与度量", "[性能设计],[性能目标],[度量指标]"),
            ("002", "性能架构设计", "系统性能架构设计方案", "[性能设计],[性能架构],[设计方案]"),
            ("003", "缓存策略设计", "缓存策略设计与实现", "[性能设计],[缓存设计],[缓存策略]"),
            ("004", "数据库性能设计", "数据库性能优化设计", "[性能设计],[数据库性能],[性能优化]"),
            ("005", "负载均衡设计", "负载均衡方案设计", "[性能设计],[负载均衡],[均衡方案]"),
        ],
        "0207-CP-IM-设计规范": [
            ("001", "UI_UX设计规范", "UI/UX 设计规范与标准", "[设计规范],[UI/UX],[设计标准]"),
            ("002", "前端组件设计规范", "前端组件设计规范与标准", "[设计规范],[前端设计],[组件规范]"),
            ("003", "后端服务设计规范", "后端服务设计规范与标准", "[设计规范],[后端设计],[服务规范]"),
            ("004", "AI模型设计规范", "AI 模型设计规范与标准", "[设计规范],[AI设计],[模型规范]"),
            ("005", "文档模板库", "文档模板库与使用规范", "[设计规范],[文档模板],[模板规范]"),
            ("006", "设计评审checklist", "设计评审检查清单", "[设计规范],[设计评审],[检查清单]"),
        ],
    },
    "03-YYC³-CP-IM-开发实施阶段": {
        "0301-CP-IM-开发环境": [
            ("001", "开发环境搭建手册", "开发环境搭建步骤与配置", "[开发环境],[环境搭建],[配置指南]"),
            ("002", "多环境配置规范", "多环境配置规范与管理", "[开发环境],[环境配置],[配置规范]"),
            ("003", "Docker容器配置", "Docker 容器配置与管理", "[开发环境],[容器配置],[Docker]"),
            ("004", "开发工具链说明", "开发工具链介绍与使用", "[开发环境],[工具链],[工具说明]"),
            ("005", "本地调试指南", "本地调试方法与技巧", "[开发环境],[本地调试],[调试指南]"),
            ("006", "常见问题解决方案", "开发环境常见问题与解决方案", "[开发环境],[问题解决],[常见问题]"),
        ],
        "0302-CP-IM-开发规范": {
            "通用规范": [
                ("001", "Git工作流规范", "Git 工作流规范与最佳实践", "[开发规范],[Git规范],[工作流]"),
                ("002", "代码提交规范", "代码提交规范与格式", "[开发规范],[提交规范],[代码规范]"),
                ("003", "分支管理策略", "分支管理策略与规范", "[开发规范],[分支管理],[管理策略]"),
                ("004", "代码注释规范", "代码注释规范与标准", "[开发规范],[注释规范],[代码规范]"),
            ],
            "0302-01-CP-IM-前端开发规范": [
                ("001", "React开发规范", "React 开发规范与最佳实践", "[开发规范],[React],[开发规范]"),
                ("002", "TypeScript编码规范", "TypeScript 编码规范与标准", "[开发规范],[TypeScript],[编码规范]"),
                ("003", "TailwindCSS使用规范", "TailwindCSS 使用规范与最佳实践", "[开发规范],[TailwindCSS],[使用规范]"),
                ("004", "组件开发规范", "组件开发规范与标准", "[开发规范],[组件开发],[开发规范]"),
                ("005", "状态管理规范", "状态管理规范与最佳实践", "[开发规范],[状态管理],[管理规范]"),
                ("006", "前端性能优化指南", "前端性能优化指南与技巧", "[开发规范],[性能优化],[优化指南]"),
            ],
            "0302-02-CP-IM-后端开发规范": [
                ("001", "Node.js开发规范", "Node.js 开发规范与最佳实践", "[开发规范],[Node.js],[开发规范]"),
                ("002", "TypeScript后端规范", "TypeScript 后端规范与标准", "[开发规范],[TypeScript],[后端规范]"),
                ("003", "RESTful_API开发规范", "RESTful API 开发规范与标准", "[开发规范],[API开发],[开发规范]"),
                ("004", "微服务开发规范", "微服务开发规范与标准", "[开发规范],[微服务],[开发规范]"),
                ("005", "错误处理规范", "错误处理规范与标准", "[开发规范],[错误处理],[处理规范]"),
                ("006", "日志记录规范", "日志记录规范与标准", "[开发规范],[日志记录],[记录规范]"),
            ],
            "0302-03-CP-IM-开发规范": [
                ("001", "AI模型集成规范", "AI 模型集成规范与标准", "[开发规范],[AI集成],[集成规范]"),
                ("002", "提示工程规范", "提示工程规范与最佳实践", "[开发规范],[提示工程],[工程规范]"),
                ("003", "Agent开发规范", "Agent 开发规范与标准", "[开发规范],[Agent开发],[开发规范]"),
                ("004", "向量数据库使用规范", "向量数据库使用规范与最佳实践", "[开发规范],[向量数据库],[使用规范]"),
                ("005", "AI服务编排规范", "AI 服务编排规范与标准", "[开发规范],[AI编排],[编排规范]"),
            ],
        },
        "0303-CP-IM-技术文档": [
            ("001", "类型定义文件.d.ts", "TypeScript 类型定义文件", "[技术文档],[类型定义],[.d.ts]"),
            ("002", "枚举与常量定义", "枚举与常量定义文档", "[技术文档],[枚举常量],[定义文档]"),
            ("003", "配置参数说明", "配置参数说明文档", "[技术文档],[配置参数],[参数说明]"),
            ("004", "依赖管理说明", "依赖管理说明文档", "[技术文档],[依赖管理],[管理说明]"),
            ("005", "技术债务管理文档", "技术债务管理文档", "[技术文档],[技术债务],[债务管理]"),
            ("006", "第三方库使用说明", "第三方库使用说明文档", "[技术文档],[第三方库],[使用说明]"),
        ],
        "0304-CP-IM-API文档": [
            ("001", "接口清单", "项目接口清单文档", "[API文档],[接口清单],[清单文档]"),
            ("002", "Swagger_UI配置", "Swagger UI 配置文档", "[API文档],[Swagger],[UI配置]"),
            ("003", "GraphQL_Schema文档", "GraphQL Schema 文档", "[API文档],[GraphQL],[Schema文档]"),
            ("004", "WebSocket协议文档", "WebSocket 协议文档", "[API文档],[WebSocket],[协议文档]"),
            ("005", "接口测试用例", "接口测试用例文档", "[API文档],[测试用例],[用例文档]"),
            ("006", "接口变更记录", "接口变更记录文档", "[API文档],[变更记录],[记录文档]"),
        ],
        "0305-CP-IM-开发脚本": [
            ("001", "自动化构建脚本", "自动化构建脚本文档", "[开发脚本],[构建脚本],[自动化]"),
            ("002", "数据库迁移脚本", "数据库迁移脚本文档", "[开发脚本],[迁移脚本],[数据库]"),
            ("003", "测试数据生成脚本", "测试数据生成脚本文档", "[开发脚本],[数据生成],[测试脚本]"),
            ("004", "代码生成脚本", "代码生成脚本文档", "[开发脚本],[代码生成],[生成脚本]"),
            ("005", "开发辅助工具", "开发辅助工具文档", "[开发脚本],[辅助工具],[工具文档]"),
            ("006", "脚本使用说明", "脚本使用说明文档", "[开发脚本],[使用说明],[说明文档]"),
        ],
        "0306-CP-IM-集成指南": [
            ("001", "前后端联调手册", "前后端联调手册", "[集成指南],[联调手册],[前后端]"),
            ("002", "微服务联调手册", "微服务联调手册", "[集成指南],[联调手册],[微服务]"),
            ("003", "AI服务集成手册", "AI 服务集成手册", "[集成指南],[集成手册],[AI服务]"),
            ("004", "第三方服务集成", "第三方服务集成文档", "[集成指南],[第三方集成],[集成文档]"),
            ("005", "数据同步机制", "数据同步机制文档", "[集成指南],[数据同步],[同步机制]"),
            ("006", "集成测试数据", "集成测试数据文档", "[集成指南],[测试数据],[数据文档]"),
        ],
        "0307-CP-IM-开发进度": [
            ("001", "代码评审记录", "代码评审记录文档", "[开发进度],[代码评审],[评审记录]"),
            ("002", "技术难题解决方案", "技术难题解决方案文档", "[开发进度],[技术难题],[解决方案]"),
            ("003", "开发周报模板", "开发周报模板文档", "[开发进度],[开发周报],[周报模板]"),
            ("004", "里程碑完成报告", "里程碑完成报告文档", "[开发进度],[里程碑],[完成报告]"),
            ("005", "技术分享记录", "技术分享记录文档", "[开发进度],[技术分享],[分享记录]"),
        ],
    },
    "04-YYC³-CP-IM-测试与审核阶段": {
        "0401-CP-IM-测试策略": [
            ("001", "测试总计划", "项目测试总计划文档", "[测试策略],[测试计划],[总计划]"),
            ("002", "测试策略文档", "测试策略文档", "[测试策略],[测试策略],[策略文档]"),
            ("003", "测试环境管理规范", "测试环境管理规范文档", "[测试策略],[环境管理],[管理规范]"),
            ("004", "测试数据管理规范", "测试数据管理规范文档", "[测试策略],[数据管理],[管理规范]"),
            ("005", "测试准入准出标准", "测试准入准出标准文档", "[测试策略],[准入准出],[标准文档]"),
        ],
        "0402-CP-IM-测试用例": {
            "0402-01-CP-IM-单元测试": [
                ("001", "前端单元测试用例", "前端单元测试用例文档", "[测试用例],[单元测试],[前端测试]"),
                ("002", "后端单元测试用例", "后端单元测试用例文档", "[测试用例],[单元测试],[后端测试]"),
                ("003", "AI引擎单元测试用例", "AI 引擎单元测试用例文档", "[测试用例],[单元测试],[AI测试]"),
                ("004", "工具函数测试用例", "工具函数测试用例文档", "[测试用例],[单元测试],[工具测试]"),
            ],
            "0402-02-CP-IM-集成测试": [
                ("001", "API集成测试用例", "API 集成测试用例文档", "[测试用例],[集成测试],[API测试]"),
                ("002", "微服务集成测试用例", "微服务集成测试用例文档", "[测试用例],[集成测试],[微服务测试]"),
                ("003", "数据库集成测试用例", "数据库集成测试用例文档", "[测试用例],[集成测试],[数据库测试]"),
                ("004", "第三方服务集成测试用例", "第三方服务集成测试用例文档", "[测试用例],[集成测试],[第三方测试]"),
            ],
            "0402-03-CP-IM-功能测试": [
                ("001", "主仪表板功能测试", "主仪表板功能测试用例文档", "[测试用例],[功能测试],[仪表板测试]"),
                ("002", "CP-IM功能测试", "CP-IM 功能测试用例文档", "[测试用例],[功能测试],[AI测试]"),
                ("003", "学习中心功能测试", "学习中心功能测试用例文档", "[测试用例],[功能测试],[学习中心测试]"),
                ("004", "项目管理功能测试", "项目管理功能测试用例文档", "[测试用例],[功能测试],[项目管理测试]"),
                ("005", "系统设置功能测试", "系统设置功能测试用例文档", "[测试用例],[功能测试],[系统设置测试]"),
            ],
            "0402-04-CP-IM-性能测试": [
                ("001", "负载测试用例", "负载测试用例文档", "[测试用例],[性能测试],[负载测试]"),
                ("002", "压力测试用例", "压力测试用例文档", "[测试用例],[性能测试],[压力测试]"),
                ("003", "并发测试用例", "并发测试用例文档", "[测试用例],[性能测试],[并发测试]"),
                ("004", "稳定性测试用例", "稳定性测试用例文档", "[测试用例],[性能测试],[稳定性测试]"),
            ],
            "0402-05-CP-IM-安全测试": [
                ("001", "渗透测试用例", "渗透测试用例文档", "[测试用例],[安全测试],[渗透测试]"),
                ("002", "漏洞扫描用例", "漏洞扫描用例文档", "[测试用例],[安全测试],[漏洞扫描]"),
                ("003", "权限测试用例", "权限测试用例文档", "[测试用例],[安全测试],[权限测试]"),
                ("004", "数据安全测试用例", "数据安全测试用例文档", "[测试用例],[安全测试],[数据安全]"),
            ],
        },
        "0403-CP-IM-测试执行": [
            ("001", "测试执行计划", "测试执行计划文档", "[测试执行],[执行计划],[计划文档]"),
            ("002", "测试环境部署指南", "测试环境部署指南文档", "[测试执行],[环境部署],[部署指南]"),
            ("003", "自动化测试脚本", "自动化测试脚本文档", "[测试执行],[自动化测试],[测试脚本]"),
            ("004", "手动测试检查表", "手动测试检查表文档", "[测试执行],[手动测试],[检查表]"),
            ("005", "测试数据准备指南", "测试数据准备指南文档", "[测试执行],[数据准备],[准备指南]"),
        ],
        "0404-CP-IM-测试报告": [
            ("001", "单元测试报告", "单元测试报告文档", "[测试报告],[单元测试],[测试报告]"),
            ("002", "集成测试报告", "集成测试报告文档", "[测试报告],[集成测试],[测试报告]"),
            ("003", "功能测试报告", "功能测试报告文档", "[测试报告],[功能测试],[测试报告]"),
            ("004", "性能测试报告", "性能测试报告文档", "[测试报告],[性能测试],[测试报告]"),
            ("005", "安全测试报告", "安全测试报告文档", "[测试报告],[安全测试],[测试报告]"),
            ("006", "回归测试报告", "回归测试报告文档", "[测试报告],[回归测试],[测试报告]"),
            ("007", "UAT验收测试报告", "UAT 验收测试报告文档", "[测试报告],[UAT测试],[测试报告]"),
        ],
        "0405-CP-IM-缺陷管理": [
            ("001", "缺陷管理流程", "缺陷管理流程文档", "[缺陷管理],[管理流程],[流程文档]"),
            ("002", "缺陷分类标准", "缺陷分类标准文档", "[缺陷管理],[分类标准],[标准文档]"),
            ("003", "缺陷跟踪记录", "缺陷跟踪记录文档", "[缺陷管理],[跟踪记录],[记录文档]"),
            ("004", "缺陷分析报告", "缺陷分析报告文档", "[缺陷管理],[分析报告],[报告文档]"),
            ("005", "缺陷修复验证", "缺陷修复验证文档", "[缺陷管理],[修复验证],[验证文档]"),
        ],
        "0406-CP-IM-质量审核": [
            ("001", "代码质量审核标准", "代码质量审核标准文档", "[质量审核],[质量标准],[审核标准]"),
            ("002", "设计审核checklist", "设计审核检查清单文档", "[质量审核],[设计审核],[检查清单]"),
            ("003", "测试审核报告", "测试审核报告文档", "[质量审核],[测试审核],[审核报告]"),
            ("004", "交付物审核记录", "交付物审核记录文档", "[质量审核],[交付物审核],[审核记录]"),
            ("005", "合规性审核文档", "合规性审核文档", "[质量审核],[合规审核],[审核文档]"),
            ("006", "质量门禁标准", "质量门禁标准文档", "[质量审核],[质量门禁],[门禁标准]"),
        ],
    },
    "05-YYC³-CP-IM-交付与部署阶段": {
        "0501-CP-IM-部署准备": [
            ("001", "部署环境规划", "部署环境规划文档", "[部署准备],[环境规划],[规划文档]"),
            ("002", "服务器配置清单", "服务器配置清单文档", "[部署准备],[服务器配置],[配置清单]"),
            ("003", "网络配置规划", "网络配置规划文档", "[部署准备],[网络配置],[配置规划]"),
            ("004", "域名与SSL证书", "域名与 SSL 证书文档", "[部署准备],[域名SSL],[证书文档]"),
            ("005", "监控系统部署", "监控系统部署文档", "[部署准备],[监控部署],[部署文档]"),
        ],
        "0502-CP-IM-部署手册": [
            ("001", "Docker部署手册", "Docker 部署手册文档", "[部署手册],[Docker部署],[部署手册]"),
            ("002", "Kubernetes部署手册", "Kubernetes 部署手册文档", "[部署手册],[K8s部署],[部署手册]"),
            ("003", "数据库部署手册", "数据库部署手册文档", "[部署手册],[数据库部署],[部署手册]"),
            ("004", "中间件部署手册", "中间件部署手册文档", "[部署手册],[中间件部署],[部署手册]"),
            ("005", "前端应用部署手册", "前端应用部署手册文档", "[部署手册],[前端部署],[部署手册]"),
            ("006", "AI服务部署手册", "AI 服务部署手册文档", "[部署手册],[AI部署],[部署手册]"),
            ("007", "本地部署指南", "本地部署指南文档", "[部署手册],[本地部署],[部署指南]"),
        ],
        "0503-CP-IM-发布流程": [
            ("001", "CI_CD流水线配置", "CI/CD 流水线配置文档", "[发布流程],[CI/CD],[流水线配置]"),
            ("002", "自动化发布流程", "自动化发布流程文档", "[发布流程],[自动化发布],[发布流程]"),
            ("003", "灰度发布方案", "灰度发布方案文档", "[发布流程],[灰度发布],[发布方案]"),
            ("004", "蓝绿部署方案", "蓝绿部署方案文档", "[发布流程],[蓝绿部署],[部署方案]"),
            ("005", "回滚方案设计", "回滚方案设计文档", "[发布流程],[回滚方案],[方案设计]"),
            ("006", "发布检查清单", "发布检查清单文档", "[发布流程],[发布检查],[检查清单]"),
        ],
        "0504-CP-IM-数据迁移": [
            ("001", "数据迁移方案", "数据迁移方案文档", "[数据迁移],[迁移方案],[方案文档]"),
            ("002", "数据库迁移脚本", "数据库迁移脚本文档", "[数据迁移],[迁移脚本],[脚本文档]"),
            ("003", "数据清洗规则", "数据清洗规则文档", "[数据迁移],[数据清洗],[清洗规则]"),
            ("004", "数据一致性校验", "数据一致性校验文档", "[数据迁移],[一致性校验],[校验文档]"),
            ("005", "迁移回滚方案", "迁移回滚方案文档", "[数据迁移],[回滚方案],[方案文档]"),
        ],
        "0505-CP-IM-上线割接": [
            ("001", "上线割接方案", "上线割接方案文档", "[上线割接],[割接方案],[方案文档]"),
            ("002", "割接时间窗口计划", "割接时间窗口计划文档", "[上线割接],[时间窗口],[计划文档]"),
            ("003", "割接应急预案", "割接应急预案文档", "[上线割接],[应急预案],[预案文档]"),
            ("004", "割接演练报告", "割接演练报告文档", "[上线割接],[演练报告],[报告文档]"),
            ("005", "割接后验证方案", "割接后验证方案文档", "[上线割接],[验证方案],[方案文档]"),
        ],
        "0506-CP-IM-用户文档": [
            ("001", "产品使用手册", "产品使用手册文档", "[用户文档],[使用手册],[手册文档]"),
            ("002", "管理员操作手册", "管理员操作手册文档", "[用户文档],[操作手册],[手册文档]"),
            ("003", "快速开始指南", "快速开始指南文档", "[用户文档],[快速开始],[指南文档]"),
            ("004", "常见问题FAQ", "常见问题 FAQ 文档", "[用户文档],[FAQ],[常见问题]"),
            ("005", "新功能说明文档", "新功能说明文档", "[用户文档],[新功能],[说明文档]"),
            ("006", "视频教程指南", "视频教程指南文档", "[用户文档],[视频教程],[教程指南]"),
        ],
        "0507-CP-IM-交付物管理": [
            ("001", "交付物清单", "交付物清单文档", "[交付物管理],[交付清单],[清单文档]"),
            ("002", "交付验收标准", "交付验收标准文档", "[交付物管理],[验收标准],[标准文档]"),
            ("003", "SLA服务等级协议", "SLA 服务等级协议文档", "[交付物管理],[SLA协议],[协议文档]"),
            ("004", "技术支持协议", "技术支持协议文档", "[交付物管理],[技术支持],[协议文档]"),
            ("005", "项目验收报告", "项目验收报告文档", "[交付物管理],[验收报告],[报告文档]"),
            ("006", "知识转移文档", "知识转移文档", "[交付物管理],[知识转移],[转移文档]"),
        ],
    },
    "06-YYC³-CP-IM-运营与维护阶段": {
        "0601-CP-IM-监控告警": [
            ("001", "监控指标体系", "监控指标体系文档", "[监控告警],[监控指标],[指标体系]"),
            ("002", "告警规则配置", "告警规则配置文档", "[监控告警],[告警规则],[规则配置]"),
            ("003", "监控面板配置", "监控面板配置文档", "[监控告警],[监控面板],[面板配置]"),
            ("004", "日志收集配置", "日志收集配置文档", "[监控告警],[日志收集],[收集配置]"),
            ("005", "性能监控配置", "性能监控配置文档", "[监控告警],[性能监控],[监控配置]"),
            ("006", "业务监控配置", "业务监控配置文档", "[监控告警],[业务监控],[监控配置]"),
        ],
        "0602-CP-IM-运维手册": [
            ("001", "日常运维操作手册", "日常运维操作手册文档", "[运维手册],[日常运维],[操作手册]"),
            ("002", "故障处理手册", "故障处理手册文档", "[运维手册],[故障处理],[处理手册]"),
            ("003", "应急响应预案", "应急响应预案文档", "[运维手册],[应急响应],[响应预案]"),
            ("004", "备份与恢复手册", "备份与恢复手册文档", "[运维手册],[备份恢复],[恢复手册]"),
            ("005", "容量管理手册", "容量管理手册文档", "[运维手册],[容量管理],[管理手册]"),
            ("006", "安全运维手册", "安全运维手册文档", "[运维手册],[安全运维],[运维手册]"),
        ],
        "0603-CP-IM-问题管理": [
            ("001", "问题管理流程", "问题管理流程文档", "[问题管理],[管理流程],[流程文档]"),
            ("002", "常见问题解决方案", "常见问题解决方案文档", "[问题管理],[常见问题],[解决方案]"),
            ("003", "故障根因分析模板", "故障根因分析模板文档", "[问题管理],[根因分析],[分析模板]"),
            ("004", "问题升级机制", "问题升级机制文档", "[问题管理],[升级机制],[机制文档]"),
            ("005", "用户反馈处理流程", "用户反馈处理流程文档", "[问题管理],[用户反馈],[处理流程]"),
        ],
        "0604-CP-IM-性能优化": [
            ("001", "性能监控报告", "性能监控报告文档", "[性能优化],[性能监控],[监控报告]"),
            ("002", "性能瓶颈分析", "性能瓶颈分析文档", "[性能优化],[瓶颈分析],[分析文档]"),
            ("003", "优化方案设计", "优化方案设计文档", "[性能优化],[优化方案],[方案设计]"),
            ("004", "优化效果评估", "优化效果评估文档", "[性能优化],[效果评估],[评估文档]"),
            ("005", "容量规划报告", "容量规划报告文档", "[性能优化],[容量规划],[规划报告]"),
        ],
        "0605-CP-IM-版本管理": [
            ("001", "版本发布计划", "版本发布计划文档", "[版本管理],[发布计划],[计划文档]"),
            ("002", "版本发布checklist", "版本发布检查清单文档", "[版本管理],[发布检查],[检查清单]"),
            ("003", "版本回滚方案", "版本回滚方案文档", "[版本管理],[回滚方案],[方案文档]"),
            ("004", "版本兼容性说明", "版本兼容性说明文档", "[版本管理],[兼容性],[说明文档]"),
            ("005", "版本发布复盘报告", "版本发布复盘报告文档", "[版本管理],[发布复盘],[复盘报告]"),
        ],
        "0606-CP-IM-运营分析": [
            ("001", "运营数据指标", "运营数据指标文档", "[运营分析],[数据指标],[指标文档]"),
            ("002", "用户行为分析报告", "用户行为分析报告文档", "[运营分析],[行为分析],[分析报告]"),
            ("003", "业务数据分析报告", "业务数据分析报告文档", "[运营分析],[数据分析],[分析报告]"),
            ("004", "系统使用率报告", "系统使用率报告文档", "[运营分析],[使用率],[使用报告]"),
            ("005", "ROI分析报告", "ROI 分析报告文档", "[运营分析],[ROI分析],[分析报告]"),
            ("006", "运营改进建议", "运营改进建议文档", "[运营分析],[改进建议],[建议文档]"),
        ],
        "0607-CP-IM-持续改进": [
            ("001", "迭代规划文档", "迭代规划文档", "[持续改进],[迭代规划],[规划文档]"),
            ("002", "技术债务管理", "技术债务管理文档", "[持续改进],[技术债务],[债务管理]"),
            ("003", "架构演进规划", "架构演进规划文档", "[持续改进],[架构演进],[演进规划]"),
            ("004", "最佳实践总结", "最佳实践总结文档", "[持续改进],[最佳实践],[实践总结]"),
            ("005", "经验教训复盘", "经验教训复盘文档", "[持续改进],[经验教训],[复盘文档]"),
            ("006", "团队能力提升计划", "团队能力提升计划文档", "[持续改进],[能力提升],[提升计划]"),
        ],
    },
    "07-YYC³-CP-IM-合规与安全保障": {
        "0701-CP-IM-合规管理": [
            ("001", "数据合规政策", "数据合规政策文档", "[合规管理],[数据合规],[合规政策]"),
            ("002", "隐私保护协议", "隐私保护协议文档", "[合规管理],[隐私保护],[保护协议]"),
            ("003", "等保测评文档", "等保测评文档", "[合规管理],[等保测评],[测评文档]"),
            ("004", "合规自查报告", "合规自查报告文档", "[合规管理],[合规自查],[自查报告]"),
            ("005", "法律法规遵循声明", "法律法规遵循声明文档", "[合规管理],[法律遵循],[遵循声明]"),
            ("006", "合规审计记录", "合规审计记录文档", "[合规管理],[合规审计],[审计记录]"),
        ],
        "0702-CP-IM-安全管理": [
            ("001", "安全管理制度", "安全管理制度文档", "[安全管理],[安全制度],[制度文档]"),
            ("002", "安全开发规范", "安全开发规范文档", "[安全管理],[安全开发],[开发规范]"),
            ("003", "安全运维规范", "安全运维规范文档", "[安全管理],[安全运维],[运维规范]"),
            ("004", "应急响应计划", "应急响应计划文档", "[安全管理],[应急响应],[响应计划]"),
            ("005", "安全事件报告", "安全事件报告文档", "[安全管理],[安全事件],[事件报告]"),
            ("006", "安全培训记录", "安全培训记录文档", "[安全管理],[安全培训],[培训记录]"),
        ],
        "0703-CP-IM-权限管理": [
            ("001", "权限管理策略", "权限管理策略文档", "[权限管理],[权限策略],[策略文档]"),
            ("002", "RBAC权限模型设计", "RBAC 权限模型设计文档", "[权限管理],[RBAC模型],[模型设计]"),
            ("003", "权限申请审批流程", "权限申请审批流程文档", "[权限管理],[权限审批],[审批流程]"),
            ("004", "权限审计记录", "权限审计记录文档", "[权限管理],[权限审计],[审计记录]"),
            ("005", "权限矩阵表", "权限矩阵表文档", "[权限管理],[权限矩阵],[矩阵表]"),
        ],
        "0704-CP-IM-数据安全": [
            ("001", "数据分类分级标准", "数据分类分级标准文档", "[数据安全],[数据分类],[分类标准]"),
            ("002", "数据加密方案", "数据加密方案文档", "[数据安全],[数据加密],[加密方案]"),
            ("003", "数据脱敏规则", "数据脱敏规则文档", "[数据安全],[数据脱敏],[脱敏规则]"),
            ("004", "数据备份策略", "数据备份策略文档", "[数据安全],[数据备份],[备份策略]"),
            ("005", "数据销毁流程", "数据销毁流程文档", "[数据安全],[数据销毁],[销毁流程]"),
            ("006", "数据安全审计", "数据安全审计文档", "[数据安全],[安全审计],[审计文档]"),
        ],
        "0705-CP-IM-审计管理": [
            ("001", "审计策略文档", "审计策略文档", "[审计管理],[审计策略],[策略文档]"),
            ("002", "审计日志规范", "审计日志规范文档", "[审计管理],[审计日志],[日志规范]"),
            ("003", "审计报告模板", "审计报告模板文档", "[审计管理],[审计报告],[报告模板]"),
            ("004", "合规审计checklist", "合规审计检查清单文档", "[审计管理],[合规审计],[检查清单]"),
            ("005", "审计整改记录", "审计整改记录文档", "[审计管理],[审计整改],[整改记录]"),
        ],
        "第一层-基础设施安全": [
            ("001", "物理硬件安全-合规管理", "Mac Pro智源架构师、Mac Max织码工匠、GLM-PC多AI智能体、华为MateBook辅助设备、NAS守护哨兵、RAID存储阵列的安全合规管理", "[合规管理],[基础设施安全],[物理硬件]"),
            ("002", "网络安全-合规管理", "多机同IP专线、内部网络、负载均衡、CDN加速、网络安全的安全合规管理", "[合规管理],[基础设施安全],[网络安全]"),
            ("003", "容器化部署安全-合规管理", "Docker容器、Docker Compose、Kubernetes编排、容器镜像仓库的安全合规管理", "[合规管理],[基础设施安全],[容器化部署]"),
            ("004", "CI_CD安全-合规管理", "持续集成、持续部署、安全扫描、自动化测试的安全合规管理", "[合规管理],[基础设施安全],[CI_CD]"),
            ("005", "版本控制安全-合规管理", "Git服务器、分支策略、提交规范的安全合规管理", "[合规管理],[基础设施安全],[版本控制]"),
            ("006", "监控运维安全-合规管理", "系统监控、应用监控、日志管理、告警管理、运维自动化的安全合规管理", "[合规管理],[基础设施安全],[监控运维]"),
            ("007", "安全基础设施-合规管理", "身份认证基础设施、网络安全基础设施、数据安全基础设施、应用安全基础设施、安全监控基础设施的合规管理", "[合规管理],[基础设施安全],[安全基础]"),
        ],
        "第二层-数据存储安全": [
            ("001", "关系型数据库安全-合规管理", "PostgreSQL数据库、数据模型设计、数据库优化、索引优化、查询优化、连接池管理、数据备份、数据恢复的安全合规管理", "[合规管理],[数据存储安全],[关系型数据库]"),
            ("002", "缓存数据库安全-合规管理", "Redis缓存、会话存储、缓存数据、分布式锁、发布订阅、限流计数、Lua脚本的安全合规管理", "[合规管理],[数据存储安全],[缓存数据库]"),
            ("003", "图数据库安全-合规管理", "Neo4j数据库、知识图谱、关系查询、图算法、路径查询、图可视化的安全合规管理", "[合规管理],[数据存储安全],[图数据库]"),
            ("004", "搜索引擎安全-合规管理", "Elasticsearch、全文搜索、聚合查询、索引管理、搜索优化、搜索分析的安全合规管理", "[合规管理],[数据存储安全],[搜索引擎]"),
            ("005", "对象存储安全-合规管理", "MinIO、文件存储、图片存储、视频存储、文档存储、存储桶管理、CDN加速的安全合规管理", "[合规管理],[数据存储安全],[对象存储]"),
            ("006", "向量数据库安全-合规管理", "Qdrant向量库、向量存储、向量检索、相似度搜索、向量索引、RAG支持的安全合规管理", "[合规管理],[数据存储安全],[向量数据库]"),
            ("007", "时序数据库安全-合规管理", "InfluxDB、指标存储、时序数据、数据压缩、数据保留、查询优化的安全合规管理", "[合规管理],[数据存储安全],[时序数据库]"),
            ("008", "数据同步服务安全-合规管理", "主从同步、数据备份、数据迁移、数据一致性、数据校验、数据恢复的安全合规管理", "[合规管理],[数据存储安全],[数据同步]"),
        ],
        "第三层-核心服务安全": [
            ("001", "API网关安全-合规管理", "统一API入口、身份认证中间件、权限控制中间件、限流熔断器、路由分发、API版本管理的安全合规管理", "[合规管理],[核心服务安全],[API网关]"),
            ("002", "身份认证服务安全-合规管理", "JWT认证、OAuth认证、多因素认证、会话管理、单点登录、第三方登录的安全合规管理", "[合规管理],[核心服务安全],[身份认证]"),
            ("003", "权限管理服务安全-合规管理", "RBAC权限控制、角色管理、权限分配、资源访问控制、权限审计的安全合规管理", "[合规管理],[核心服务安全],[权限管理]"),
            ("004", "消息队列服务安全-合规管理", "任务队列、消息发布订阅、延迟任务、任务重试、死信队列的安全合规管理", "[合规管理],[核心服务安全],[消息队列]"),
            ("005", "日志服务安全-合规管理", "结构化日志、日志收集、日志存储、日志分析、日志检索的安全合规管理", "[合规管理],[核心服务安全],[日志服务]"),
            ("006", "监控服务安全-合规管理", "指标收集、性能监控、健康检查、告警通知、监控大盘的安全合规管理", "[合规管理],[核心服务安全],[监控服务]"),
            ("007", "缓存服务安全-合规管理", "内存缓存、分布式缓存、缓存策略、缓存预热、缓存失效的安全合规管理", "[合规管理],[核心服务安全],[缓存服务]"),
            ("008", "配置服务安全-合规管理", "配置管理、环境配置、动态配置、配置中心、配置版本的安全合规管理", "[合规管理],[核心服务安全],[配置服务]"),
            ("009", "调度服务安全-合规管理", "定时任务、任务调度、分布式调度、任务依赖、任务监控的安全合规管理", "[合规管理],[核心服务安全],[调度服务]"),
        ],
        "第四层-AI智能层安全": [
            ("001", "智愈领航员安全-合规管理", "自然语言理解、意图识别、意图分类、上下文管理、多轮对话、意图纠错的安全合规管理", "[合规管理],[AI智能层安全],[智愈领航员]"),
            ("002", "洞见思想家安全-合规管理", "图表数据分析、文档智能分析、洞察文本生成、洞察可视化、数据挖掘、模式识别的安全合规管理", "[合规管理],[AI智能层安全],[洞见思想家]"),
            ("003", "预见先知安全-合规管理", "KPI时间序列预测、异常检测、前瞻性建议、预测结果可视化、趋势预测、风险评估的安全合规管理", "[合规管理],[AI智能层安全],[预见先知]"),
            ("004", "知遇伯乐安全-合规管理", "用户画像构建、协同过滤推荐、基于内容的推荐、推荐结果排序、推荐多样性、推荐解释的安全合规管理", "[合规管理],[AI智能层安全],[知遇伯乐]"),
            ("005", "元启天枢安全-合规管理", "系统状态感知、资源使用监控、性能指标监控、智能编排、服务调度、负载均衡的安全合规管理", "[合规管理],[AI智能层安全],[元启天枢]"),
            ("006", "卫安哨兵安全-合规管理", "行为基线学习、威胁实时检测、自动响应与修复、安全报告生成、入侵检测、漏洞扫描的安全合规管理", "[合规管理],[AI智能层安全],[卫安哨兵]"),
            ("007", "格物宗师安全-合规管理", "代码质量分析、性能分析、优化建议生成、自动重构、代码规范检查、技术债务分析的安全合规管理", "[合规管理],[AI智能层安全],[格物宗师]"),
            ("008", "AI基础设施安全-合规管理", "模型管理、提示词工程、向量数据库、RAG知识库、模型训练、模型部署的安全合规管理", "[合规管理],[AI智能层安全],[AI基础]"),
        ],
        "第五层-业务逻辑安全": [
            ("001", "项目管理服务安全-合规管理", "项目创建、任务分配、进度追踪、团队协作、项目报告的安全合规管理", "[合规管理],[业务逻辑安全],[项目管理]"),
            ("002", "知识管理服务安全-合规管理", "知识库、文档管理、标签分类、知识图谱、知识检索的安全合规管理", "[合规管理],[业务逻辑安全],[知识管理]"),
            ("003", "代码生成服务安全-合规管理", "代码生成、模板管理、代码审查、代码优化、代码重构的安全合规管理", "[合规管理],[业务逻辑安全],[代码生成]"),
            ("004", "数据分析服务安全-合规管理", "数据可视化、报表生成、洞察生成、趋势分析、异常检测的安全合规管理", "[合规管理],[业务逻辑安全],[数据分析]"),
            ("005", "测试服务安全-合规管理", "单元测试、集成测试、E2E测试、性能测试、测试报告的安全合规管理", "[合规管理],[业务逻辑安全],[测试服务]"),
            ("006", "工作流服务安全-合规管理", "工作流设计、流程编排、任务调度、审批流程、流程监控的安全合规管理", "[合规管理],[业务逻辑安全],[工作流服务]"),
            ("007", "通知服务安全-合规管理", "邮件通知、短信通知、推送通知、站内消息、Webhook通知的安全合规管理", "[合规管理],[业务逻辑安全],[通知服务]"),
            ("008", "文件服务安全-合规管理", "文件上传、文件下载、文件预览、文件转换、文件管理的安全合规管理", "[合规管理],[业务逻辑安全],[文件服务]"),
        ],
        "第六层-应用表现安全": [
            ("001", "前端框架安全-合规管理", "Next.js框架、React框架、TypeScript、TailwindCSS的安全合规管理", "[合规管理],[应用表现安全],[前端框架]"),
            ("002", "UI组件库安全-合规管理", "shadcn组件、Radix组件、自定义组件、图标库的安全合规管理", "[合规管理],[应用表现安全],[UI组件库]"),
            ("003", "状态管理安全-合规管理", "React Query、Zustand、Context API、Recoil的安全合规管理", "[合规管理],[应用表现安全],[状态管理]"),
            ("004", "路由管理安全-合规管理", "应用路由、中间件路由、动态路由、路由守卫的安全合规管理", "[合规管理],[应用表现安全],[路由管理]"),
            ("005", "表单管理安全-合规管理", "React Hook Form、Zod验证、表单组件、表单验证的安全合规管理", "[合规管理],[应用表现安全],[表单管理]"),
            ("006", "数据可视化安全-合规管理", "图表库、地图可视化、网络图、3D可视化的安全合规管理", "[合规管理],[应用表现安全],[数据可视化]"),
            ("007", "代码编辑器安全-合规管理", "Monaco Editor、CodeMirror、代码高亮、代码补全的安全合规管理", "[合规管理],[应用表现安全],[代码编辑器]"),
            ("008", "性能优化安全-合规管理", "代码分割、懒加载、缓存策略、资源优化的安全合规管理", "[合规管理],[应用表现安全],[性能优化]"),
        ],
        "第七层-用户交互安全": [
            ("001", "Web浏览器交互安全-合规管理", "响应式界面、PWA离线应用、浏览器插件、跨浏览器兼容的安全合规管理", "[合规管理],[用户交互安全],[Web浏览器]"),
            ("002", "IDE插件集成安全-合规管理", "VSCode插件、JetBrains插件、Vim/Neovim插件、其他IDE插件的安全合规管理", "[合规管理],[用户交互安全],[IDE插件]"),
            ("003", "命令行工具安全-合规管理", "CLI命令行、Shell脚本、终端集成、命令补全的安全合规管理", "[合规管理],[用户交互安全],[命令行工具]"),
            ("004", "移动端应用安全-合规管理", "iOS应用、Android应用、跨平台应用、响应式设计的安全合规管理", "[合规管理],[用户交互安全],[移动端应用]"),
            ("005", "桌面应用安全-合规管理", "Electron应用、Tauri应用、原生应用、系统集成的安全合规管理", "[合规管理],[用户交互安全],[桌面应用]"),
            ("006", "语音交互安全-合规管理", "语音识别、语音合成、语音命令、语音助手的安全合规管理", "[合规管理],[用户交互安全],[语音交互]"),
            ("007", "手势交互安全-合规管理", "手势识别、触控交互、手势控制、手势反馈的安全合规管理", "[合规管理],[用户交互安全],[手势交互]"),
            ("008", "多模态交互安全-合规管理", "文本交互、语音交互、图像交互、视频交互、混合交互的安全合规管理", "[合规管理],[用户交互安全],[多模态交互]"),
        ],
        "第八层-扩展演进安全": [
            ("001", "插件系统安全-合规管理", "插件管理器、插件市场、插件开发SDK、插件生命周期、插件权限管理的安全合规管理", "[合规管理],[扩展演进安全],[插件系统]"),
            ("002", "API开放平台安全-合规管理", "API网关、API文档、API测试工具、API密钥管理、API限流控制的安全合规管理", "[合规管理],[扩展演进安全],[API开放平台]"),
            ("003", "Webhook集成安全-合规管理", "Webhook管理、Webhook事件、Webhook重试、Webhook安全、Webhook监控的安全合规管理", "[合规管理],[扩展演进安全],[Webhook集成]"),
            ("004", "第三方集成安全-合规管理", "GitHub集成、GitLab集成、Jira集成、Slack集成、钉钉集成、企业微信集成、其他平台集成的安全合规管理", "[合规管理],[扩展演进安全],[第三方集成]"),
            ("005", "自定义开发安全-合规管理", "自定义组件、自定义工作流、自定义规则、自定义模板、自定义脚本的安全合规管理", "[合规管理],[扩展演进安全],[自定义开发]"),
            ("006", "AI模型扩展安全-合规管理", "模型市场、模型训练、模型微调、模型评估、模型部署的安全合规管理", "[合规管理],[扩展演进安全],[AI模型扩展]"),
            ("007", "功能演进安全-合规管理", "功能实验、A/B测试、灰度发布、功能开关、功能反馈的安全合规管理", "[合规管理],[扩展演进安全],[功能演进]"),
            ("008", "数据分析安全-合规管理", "用户行为分析、业务数据分析、性能数据分析、趋势分析、预测分析的安全合规管理", "[合规管理],[扩展演进安全],[数据分析]"),
            ("009", "智能优化安全-合规管理", "自动优化、智能推荐、自适应调整、异常检测、故障预测的安全合规管理", "[合规管理],[扩展演进安全],[智能优化]"),
            ("010", "生态建设安全-合规管理", "开发者社区、用户社区、知识库、最佳实践、成功案例的安全合规管理", "[合规管理],[扩展演进安全],[生态建设]"),
        ],
        "第九层-系统设置安全": [
            ("001", "基础设置安全-合规管理", "系统信息、语言设置、主题设置、显示设置、通知设置的安全合规管理", "[合规管理],[系统设置安全],[基础设置]"),
            ("002", "账户管理安全-合规管理", "用户信息、安全设置、权限管理、组织管理、订阅管理的安全合规管理", "[合规管理],[系统设置安全],[账户管理]"),
            ("003", "AI配置安全-合规管理", "模型配置、API配置、提示词配置、知识库配置、工具配置的安全合规管理", "[合规管理],[系统设置安全],[AI配置]"),
            ("004", "开发配置安全-合规管理", "代码生成配置、Git配置、构建配置、测试配置、部署配置的安全合规管理", "[合规管理],[系统设置安全],[开发配置]"),
            ("005", "数据管理安全-合规管理", "数据备份、数据同步、数据清理、数据导出、数据导入的安全合规管理", "[合规管理],[系统设置安全],[数据管理]"),
            ("006", "性能配置安全-合规管理", "缓存配置、并发配置、资源配置、优化配置、监控配置的安全合规管理", "[合规管理],[系统设置安全],[性能配置]"),
            ("007", "安全配置安全-合规管理", "访问控制、数据加密、安全审计、漏洞管理、合规配置的安全合规管理", "[合规管理],[系统设置安全],[安全配置]"),
            ("008", "集成配置安全-合规管理", "第三方服务、Webhook配置、API配置、插件配置、扩展配置的安全合规管理", "[合规管理],[系统设置安全],[集成配置]"),
            ("009", "日志配置安全-合规管理", "日志级别、日志格式、日志存储、日志查询、日志告警的安全合规管理", "[合规管理],[系统设置安全],[日志配置]"),
            ("010", "高级设置安全-合规管理", "系统维护、实验功能、开发者选项、系统信息、帮助与支持的安全合规管理", "[合规管理],[系统设置安全],[高级设置]"),
        ],
    },
    "08-YYC³-CP-IM-资产与知识管理": {
        "0801-CP-IM-技术资产": [
            ("001", "软件资产清单", "软件资产清单文档", "[技术资产],[软件资产],[资产清单]"),
            ("002", "开源组件清单", "开源组件清单文档", "[技术资产],[开源组件],[组件清单]"),
            ("003", "第三方服务清单", "第三方服务清单", "[技术资产],[第三方服务],[服务清单]"),
            ("004", "硬件资产清单", "硬件资产清单文档", "[技术资产],[硬件资产],[资产清单]"),
            ("005", "资产价值评估", "资产价值评估文档", "[技术资产],[价值评估],[评估文档]"),
            ("006", "资产折旧计划", "资产折旧计划文档", "[技术资产],[折旧计划],[计划文档]"),
        ],
        "0802-CP-IM-知识产权": [
            ("001", "软件著作权材料", "软件著作权材料文档", "[知识产权],[软件著作权],[著作权材料]"),
            ("002", "专利申请材料规范", "专利申请材料规范文档", "[知识产权],[专利申请],[申请材料]"),
            ("003", "商标注册流程材料", "商标注册流程材料文档", "[知识产权],[商标注册],[注册材料]"),
            ("004", "开源协议合规检查", "开源协议合规检查文档", "[知识产权],[开源协议],[合规检查]"),
            ("005", "知识产权保护策略", "知识产权保护策略文档", "[知识产权],[知识产权],[保护策略]"),
        ],
        "0803-CP-IM-知识库": [
            ("001", "技术知识库", "技术知识库文档", "[知识库],[技术知识],[知识库文档]"),
            ("002", "业务知识库", "业务知识库文档", "[知识库],[业务知识],[知识库文档]"),
            ("003", "运维知识库", "运维知识库文档", "[知识库],[运维知识],[知识库文档]"),
            ("004", "解决方案库", "问题解决方案库", "[知识库],[问题解决],[解决方案库]"),
            ("005", "最佳实践库", "最佳实践库文档", "[知识库],[最佳实践],[实践库]"),
            ("006", "经验教训库", "经验教训库文档", "[知识库],[经验教训],[教训库]"),
        ],
        "0804-CP-IM-交接文档": [
            ("001", "项目交接清单", "项目交接清单文档", "[交接文档],[项目交接],[交接清单]"),
            ("002", "团队交接手册", "团队交接手册文档", "[交接文档],[团队交接],[交接手册]"),
            ("003", "技术交接文档", "技术交接文档", "[交接文档],[技术交接],[交接文档]"),
            ("004", "业务交接文档", "业务交接文档", "[交接文档],[业务交接],[交接文档]"),
            ("005", "运维交接文档", "运维交接文档", "[交接文档],[运维交接],[交接文档]"),
        ],
        "第一层-基础设施资产管理": [
            ("001", "物理硬件资产管理", "Mac Pro智源架构师、Mac Max织码工匠、GLM-PC多AI智能体、华为MateBook辅助设备、NAS守护哨兵、RAID存储阵列的资产管理", "[技术资产],[基础设施资产],[物理硬件]"),
            ("002", "网络架构资产管理", "多机同IP专线、内部网络、负载均衡、CDN加速、网络安全的资产管理", "[技术资产],[基础设施资产],[网络架构]"),
            ("003", "容器化部署资产管理", "Docker容器、Docker Compose、Kubernetes编排、容器镜像仓库的资产管理", "[技术资产],[基础设施资产],[容器化部署]"),
            ("004", "CI_CD资产管理", "持续集成、持续部署、安全扫描、自动化测试的资产管理", "[技术资产],[基础设施资产],[CI_CD]"),
            ("005", "版本控制资产管理", "Git服务器、分支策略、提交规范的资产管理", "[技术资产],[基础设施资产],[版本控制]"),
            ("006", "监控运维资产管理", "系统监控、应用监控、日志管理、告警管理、运维自动化的资产管理", "[技术资产],[基础设施资产],[监控运维]"),
            ("007", "安全基础设施资产管理", "身份认证基础设施、网络安全基础设施、数据安全基础设施、应用安全基础设施、安全监控基础设施的资产管理", "[技术资产],[基础设施资产],[安全基础]"),
        ],
        "第二层-数据存储资产管理": [
            ("001", "关系型数据库资产管理", "PostgreSQL数据库、数据模型设计、数据库优化、索引优化、查询优化、连接池管理、数据备份、数据恢复的资产管理", "[技术资产],[数据存储资产],[关系型数据库]"),
            ("002", "缓存数据库资产管理", "Redis缓存、会话存储、缓存数据、分布式锁、发布订阅、限流计数、Lua脚本的资产管理", "[技术资产],[数据存储资产],[缓存数据库]"),
            ("003", "图数据库资产管理", "Neo4j数据库、知识图谱、关系查询、图算法、路径查询、图可视化的资产管理", "[技术资产],[数据存储资产],[图数据库]"),
            ("004", "搜索引擎资产管理", "Elasticsearch、全文搜索、聚合查询、索引管理、搜索优化、搜索分析的资产管理", "[技术资产],[数据存储资产],[搜索引擎]"),
            ("005", "对象存储资产管理", "MinIO、文件存储、图片存储、视频存储、文档存储、存储桶管理、CDN加速的资产管理", "[技术资产],[数据存储资产],[对象存储]"),
            ("006", "向量数据库资产管理", "Qdrant向量库、向量存储、向量检索、相似度搜索、向量索引、RAG支持的资产管理", "[技术资产],[数据存储资产],[向量数据库]"),
            ("007", "时序数据库资产管理", "InfluxDB、指标存储、时序数据、数据压缩、数据保留、查询优化的资产管理", "[技术资产],[数据存储资产],[时序数据库]"),
            ("008", "数据同步服务资产管理", "主从同步、数据备份、数据迁移、数据一致性、数据校验、数据恢复的资产管理", "[技术资产],[数据存储资产],[数据同步]"),
        ],
        "第三层-核心服务资产管理": [
            ("001", "API网关资产管理", "统一API入口、身份认证中间件、权限控制中间件、限流熔断器、路由分发、API版本管理的资产管理", "[技术资产],[核心服务资产],[API网关]"),
            ("002", "身份认证服务资产管理", "JWT认证、OAuth认证、多因素认证、会话管理、单点登录、第三方登录的资产管理", "[技术资产],[核心服务资产],[身份认证]"),
            ("003", "权限管理服务资产管理", "RBAC权限控制、角色管理、权限分配、资源访问控制、权限审计的资产管理", "[技术资产],[核心服务资产],[权限管理]"),
            ("004", "消息队列服务资产管理", "任务队列、消息发布订阅、延迟任务、任务重试、死信队列的资产管理", "[技术资产],[核心服务资产],[消息队列]"),
            ("005", "日志服务资产管理", "结构化日志、日志收集、日志存储、日志分析、日志检索的资产管理", "[技术资产],[核心服务资产],[日志服务]"),
            ("006", "监控服务资产管理", "指标收集、性能监控、健康检查、告警通知、监控大盘的资产管理", "[技术资产],[核心服务资产],[监控服务]"),
            ("007", "缓存服务资产管理", "内存缓存、分布式缓存、缓存策略、缓存预热、缓存失效的资产管理", "[技术资产],[核心服务资产],[缓存服务]"),
            ("008", "配置服务资产管理", "配置管理、环境配置、动态配置、配置中心、配置版本的资产管理", "[技术资产],[核心服务资产],[配置服务]"),
            ("009", "调度服务资产管理", "定时任务、任务调度、分布式调度、任务依赖、任务监控的资产管理", "[技术资产],[核心服务资产],[调度服务]"),
        ],
        "第四层-AI智能层资产管理": [
            ("001", "智愈领航员资产管理", "自然语言理解、意图识别、意图分类、上下文管理、多轮对话、意图纠错的资产管理", "[技术资产],[AI智能层资产],[智愈领航员]"),
            ("002", "洞见思想家资产管理", "图表数据分析、文档智能分析、洞察文本生成、洞察可视化、数据挖掘、模式识别的资产管理", "[技术资产],[AI智能层资产],[洞见思想家]"),
            ("003", "预见先知资产管理", "KPI时间序列预测、异常检测、前瞻性建议、预测结果可视化、趋势预测、风险评估的资产管理", "[技术资产],[AI智能层资产],[预见先知]"),
            ("004", "知遇伯乐资产管理", "用户画像构建、协同过滤推荐、基于内容的推荐、推荐结果排序、推荐多样性、推荐解释的资产管理", "[技术资产],[AI智能层资产],[知遇伯乐]"),
            ("005", "元启天枢资产管理", "系统状态感知、资源使用监控、性能指标监控、智能编排、服务调度、负载均衡的资产管理", "[技术资产],[AI智能层资产],[元启天枢]"),
            ("006", "卫安哨兵资产管理", "行为基线学习、威胁实时检测、自动响应与修复、安全报告生成、入侵检测、漏洞扫描的资产管理", "[技术资产],[AI智能层资产],[卫安哨兵]"),
            ("007", "格物宗师资产管理", "代码质量分析、性能分析、优化建议生成、自动重构、代码规范检查、技术债务分析的资产管理", "[技术资产],[AI智能层资产],[格物宗师]"),
            ("008", "AI基础设施资产管理", "模型管理、提示词工程、向量数据库、RAG知识库、模型训练、模型部署的资产管理", "[技术资产],[AI智能层资产],[AI基础]"),
        ],
        "第五层-业务逻辑资产管理": [
            ("001", "项目管理服务资产管理", "项目创建、任务分配、进度追踪、团队协作、项目报告的资产管理", "[技术资产],[业务逻辑资产],[项目管理]"),
            ("002", "知识管理服务资产管理", "知识库、文档管理、标签分类、知识图谱、知识检索的资产管理", "[技术资产],[业务逻辑资产],[知识管理]"),
            ("003", "代码生成服务资产管理", "代码生成、模板管理、代码审查、代码优化、代码重构的资产管理", "[技术资产],[业务逻辑资产],[代码生成]"),
            ("004", "数据分析服务资产管理", "数据可视化、报表生成、洞察生成、趋势分析、异常检测的资产管理", "[技术资产],[业务逻辑资产],[数据分析]"),
            ("005", "测试服务资产管理", "单元测试、集成测试、E2E测试、性能测试、测试报告的资产管理", "[技术资产],[业务逻辑资产],[测试服务]"),
            ("006", "工作流服务资产管理", "工作流设计、流程编排、任务调度、审批流程、流程监控的资产管理", "[技术资产],[业务逻辑资产],[工作流服务]"),
            ("007", "通知服务资产管理", "邮件通知、短信通知、推送通知、站内消息、Webhook通知的资产管理", "[技术资产],[业务逻辑资产],[通知服务]"),
            ("008", "文件服务资产管理", "文件上传、文件下载、文件预览、文件转换、文件管理的资产管理", "[技术资产],[业务逻辑资产],[文件服务]"),
        ],
        "第六层-应用表现资产管理": [
            ("001", "前端框架资产管理", "Next.js框架、React框架、TypeScript、TailwindCSS的资产管理", "[技术资产],[应用表现资产],[前端框架]"),
            ("002", "UI组件库资产管理", "shadcn组件、Radix组件、自定义组件、图标库的资产管理", "[技术资产],[应用表现资产],[UI组件库]"),
            ("003", "状态管理资产管理", "React Query、Zustand、Context API、Recoil的资产管理", "[技术资产],[应用表现资产],[状态管理]"),
            ("004", "路由管理资产管理", "应用路由、中间件路由、动态路由、路由守卫的资产管理", "[技术资产],[应用表现资产],[路由管理]"),
            ("005", "表单管理资产管理", "React Hook Form、Zod验证、表单组件、表单验证的资产管理", "[技术资产],[应用表现资产],[表单管理]"),
            ("006", "数据可视化资产管理", "图表库、地图可视化、网络图、3D可视化的资产管理", "[技术资产],[应用表现资产],[数据可视化]"),
            ("007", "代码编辑器资产管理", "Monaco Editor、CodeMirror、代码高亮、代码补全的资产管理", "[技术资产],[应用表现资产],[代码编辑器]"),
            ("008", "性能优化资产管理", "代码分割、懒加载、缓存策略、资源优化的资产管理", "[技术资产],[应用表现资产],[性能优化]"),
        ],
        "第七层-用户交互资产管理": [
            ("001", "Web浏览器交互资产管理", "响应式界面、PWA离线应用、浏览器插件、跨浏览器兼容的资产管理", "[技术资产],[用户交互资产],[Web浏览器]"),
            ("002", "IDE插件集成资产管理", "VSCode插件、JetBrains插件、Vim/Neovim插件、其他IDE插件的资产管理", "[技术资产],[用户交互资产],[IDE插件]"),
            ("003", "命令行工具资产管理", "CLI命令行、Shell脚本、终端集成、命令补全的资产管理", "[技术资产],[用户交互资产],[命令行工具]"),
            ("004", "移动端应用资产管理", "iOS应用、Android应用、跨平台应用、响应式设计的资产管理", "[技术资产],[用户交互资产],[移动端应用]"),
            ("005", "桌面应用资产管理", "Electron应用、Tauri应用、原生应用、系统集成的资产管理", "[技术资产],[用户交互资产],[桌面应用]"),
            ("006", "语音交互资产管理", "语音识别、语音合成、语音命令、语音助手的资产管理", "[技术资产],[用户交互资产],[语音交互]"),
            ("007", "手势交互资产管理", "手势识别、触控交互、手势控制、手势反馈的资产管理", "[技术资产],[用户交互资产],[手势交互]"),
            ("008", "多模态交互资产管理", "文本交互、语音交互、图像交互、视频交互、混合交互的资产管理", "[技术资产],[用户交互资产],[多模态交互]"),
        ],
        "第八层-扩展演进资产管理": [
            ("001", "插件系统资产管理", "插件管理器、插件市场、插件开发SDK、插件生命周期、插件权限管理的资产管理", "[技术资产],[扩展演进资产],[插件系统]"),
            ("002", "API开放平台资产管理", "API网关、API文档、API测试工具、API密钥管理、API限流控制的资产管理", "[技术资产],[扩展演进资产],[API开放平台]"),
            ("003", "Webhook集成资产管理", "Webhook管理、Webhook事件、Webhook重试、Webhook安全、Webhook监控的资产管理", "[技术资产],[扩展演进资产],[Webhook集成]"),
            ("004", "第三方集成资产管理", "GitHub集成、GitLab集成、Jira集成、Slack集成、钉钉集成、企业微信集成、其他平台集成的资产管理", "[技术资产],[扩展演进资产],[第三方集成]"),
            ("005", "自定义开发资产管理", "自定义组件、自定义工作流、自定义规则、自定义模板、自定义脚本的资产管理", "[技术资产],[扩展演进资产],[自定义开发]"),
            ("006", "AI模型扩展资产管理", "模型市场、模型训练、模型微调、模型评估、模型部署的资产管理", "[技术资产],[扩展演进资产],[AI模型扩展]"),
            ("007", "功能演进资产管理", "功能实验、A/B测试、灰度发布、功能开关、功能反馈的资产管理", "[技术资产],[扩展演进资产],[功能演进]"),
            ("008", "数据分析资产管理", "用户行为分析、业务数据分析、性能数据分析、趋势分析、预测分析的资产管理", "[技术资产],[扩展演进资产],[数据分析]"),
            ("009", "智能优化资产管理", "自动优化、智能推荐、自适应调整、异常检测、故障预测的资产管理", "[技术资产],[扩展演进资产],[智能优化]"),
            ("010", "生态建设资产管理", "开发者社区、用户社区、知识库、最佳实践、成功案例的资产管理", "[技术资产],[扩展演进资产],[生态建设]"),
        ],
        "第九层-系统设置资产管理": [
            ("001", "基础设置资产管理", "系统信息、语言设置、主题设置、显示设置、通知设置的资产管理", "[技术资产],[系统设置资产],[基础设置]"),
            ("002", "账户管理资产管理", "用户信息、安全设置、权限管理、组织管理、订阅管理的资产管理", "[技术资产],[系统设置资产],[账户管理]"),
            ("003", "AI配置资产管理", "模型配置、API配置、提示词配置、知识库配置、工具配置的资产管理", "[技术资产],[系统设置资产],[AI配置]"),
            ("004", "开发配置资产管理", "代码生成配置、Git配置、构建配置、测试配置、部署配置的资产管理", "[技术资产],[系统设置资产],[开发配置]"),
            ("005", "数据管理资产管理", "数据备份、数据同步、数据清理、数据导出、数据导入的资产管理", "[技术资产],[系统设置资产],[数据管理]"),
            ("006", "性能配置资产管理", "缓存配置、并发配置、资源配置、优化配置、监控配置的资产管理", "[技术资产],[系统设置资产],[性能配置]"),
            ("007", "安全配置资产管理", "访问控制、数据加密、安全审计、漏洞管理、合规配置的资产管理", "[技术资产],[系统设置资产],[安全配置]"),
            ("008", "集成配置资产管理", "第三方服务、Webhook配置、API配置、插件配置、扩展配置的资产管理", "[技术资产],[系统设置资产],[集成配置]"),
            ("009", "日志配置资产管理", "日志级别、日志格式、日志存储、日志查询、日志告警的资产管理", "[技术资产],[系统设置资产],[日志配置]"),
            ("010", "高级设置资产管理", "系统维护、实验功能、开发者选项、系统信息、帮助与支持的资产管理", "[技术资产],[系统设置资产],[高级设置]"),
        ],
    },
    "09-YYC³-CP-IM-演进与优化阶段": {
        "0901-CP-IM-智能演进": [
            ("001", "AI模型迭代规划", "AI模型迭代规划文档", "[智能演进],[模型迭代],[迭代规划]"),
            ("002", "智能体能力提升", "智能体能力提升文档", "[智能演进],[能力提升],[提升文档]"),
            ("003", "知识库持续优化", "知识库持续优化文档", "[智能演进],[知识优化],[优化文档]"),
            ("004", "自适应学习机制", "自适应学习机制文档", "[智能演进],[自适应学习],[学习机制]"),
            ("005", "智能协同优化", "智能协同优化文档", "[智能演进],[协同优化],[优化文档]"),
            ("006", "人机协作进化", "人机协作进化文档", "[智能演进],[人机协作],[协作进化]"),
        ],
        "0902-CP-IM-功能演进": [
            ("001", "新功能规划设计", "新功能规划文档", "[功能演进],[功能规划],[规划文档]"),
            ("002", "功能实验与验证", "功能实验与验证文档", "[功能演进],[功能实验],[实验验证]"),
            ("003", "灰度发布策略", "灰度发布策略文档", "[功能演进],[灰度发布],[发布策略]"),
            ("004", "功能开关管理", "功能开关管理文档", "[功能演进],[功能开关],[开关管理]"),
            ("005", "用户反馈收集", "用户反馈收集文档", "[功能演进],[用户反馈],[反馈收集]"),
            ("006", "功能迭代路线图", "功能迭代路线图文档", "[功能演进],[迭代路线],[路线图]"),
        ],
        "0903-CP-IM-架构演进": [
            ("001", "架构演进规划", "架构演进规划文档", "[架构演进],[架构规划],[演进规划]"),
            ("002", "技术栈升级计划", "技术栈升级计划文档", "[架构演进],[技术升级],[升级计划]"),
            ("003", "微服务拆分策略", "微服务拆分策略文档", "[架构演进],[微服务拆分],[拆分策略]"),
            ("004", "性能优化方案", "性能优化方案文档", "[架构演进],[性能优化],[优化方案]"),
            ("005", "安全加固方案", "安全加固方案文档", "[架构演进],[安全加固],[加固方案]"),
            ("006", "架构重构计划", "架构重构计划文档", "[架构演进],[架构重构],[重构计划]"),
        ],
        "0904-CP-IM-生态建设": [
            ("001", "开发者生态建设", "开发者生态建设文档", "[生态建设],[开发者生态],[生态建设]"),
            ("002", "插件市场运营", "插件市场运营文档", "[生态建设],[插件市场],[市场运营]"),
            ("003", "API开放平台建设", "API开放平台建设文档", "[生态建设],[API平台],[平台建设]"),
            ("004", "社区运营策略", "社区运营策略文档", "[生态建设],[社区运营],[运营策略]"),
            ("005", "合作伙伴计划", "合作伙伴计划文档", "[生态建设],[合作伙伴],[伙伴计划]"),
            ("006", "生态健康度评估", "生态健康度评估文档", "[生态建设],[健康评估],[评估文档]"),
        ],
        "0905-CP-IM-持续优化": [
            ("001", "性能持续优化", "性能持续优化文档", "[持续优化],[性能优化],[优化文档]"),
            ("002", "用户体验优化", "用户体验优化文档", "[持续优化],[用户体验],[优化文档]"),
            ("003", "成本优化方案", "成本优化方案文档", "[持续优化],[成本优化],[优化方案]"),
            ("004", "资源利用率优化", "资源利用率优化文档", "[持续优化],[资源优化],[优化文档]"),
            ("005", "自动化水平提升", "自动化水平提升文档", "[持续优化],[自动化提升],[提升文档]"),
            ("006", "智能化程度提升", "智能化程度提升文档", "[持续优化],[智能化提升],[提升文档]"),
        ],
        "0906-CP-IM-创新探索": [
            ("001", "前沿技术调研", "前沿技术调研文档", "[创新探索],[技术调研],[调研文档]"),
            ("002", "创新实验项目", "创新实验项目文档", "[创新探索],[创新实验],[实验项目]"),
            ("003", "AI能力边界探索", "AI能力边界探索文档", "[创新探索],[AI边界],[边界探索]"),
            ("004", "新场景应用探索", "新场景应用探索文档", "[创新探索],[场景探索],[应用探索]"),
            ("005", "技术预研计划", "技术预研计划文档", "[创新探索],[技术预研],[预研计划]"),
            ("006", "创新成果转化", "创新成果转化文档", "[创新探索],[成果转化],[转化文档]"),
        ],
        "0907-CP-IM-质量提升": [
            ("001", "代码质量持续提升", "代码质量持续提升文档", "[质量提升],[代码质量],[质量提升]"),
            ("002", "测试覆盖率提升", "测试覆盖率提升文档", "[质量提升],[测试覆盖],[覆盖提升]"),
            ("003", "缺陷率降低计划", "缺陷率降低计划文档", "[质量提升],[缺陷降低],[降低计划]"),
            ("004", "文档质量标准提升", "文档质量标准提升文档", "[质量提升],[文档质量],[质量提升]"),
            ("005", "用户体验质量提升", "用户体验质量提升文档", "[质量提升],[用户体验],[质量提升]"),
            ("006", "服务质量规范提升", "服务质量规范提升文档", "[质量提升],[服务质量],[质量提升]"),
        ],
        "0908-CP-IM-团队成长": [
            ("001", "能力提升计划", "能力提升计划文档", "[团队成长],[能力提升],[提升计划]"),
            ("002", "技术分享机制", "技术分享机制文档", "[团队成长],[技术分享],[分享机制]"),
            ("003", "培训体系建设", "培训体系建设文档", "[团队成长],[培训体系],[体系建设]"),
            ("004", "知识传承机制", "知识传承机制文档", "[团队成长],[知识传承],[传承机制]"),
            ("005", "团队文化建设", "团队文化建设文档", "[团队成长],[团队文化],[文化建设]"),
            ("006", "人才梯队建设", "人才梯队建设文档", "[团队成长],[人才梯队],[梯队建设]"),
        ],
    },
}

# ===================== 核心功能函数 =====================

def create_directory_structure(base_path: str, struct: dict) -> None:
    """
    创建目录结构，包括预留文档和README文件
    """
    for category, content in struct.items():
        category_path = os.path.join(base_path, category)
        os.makedirs(category_path, exist_ok=True)

        # 生成目录的README文件
        readme_path = os.path.join(category_path, "README.md")
        yield {
            'type': 'readme',
            'path': readme_path,
            'category': category,
            'description': f"{category} 目录文档索引"
        }

        # 如果内容是列表（一级目录）
        if isinstance(content, list):
            # 添加预留文档
            yield {
                'type': 'reserved',
                'path': os.path.join(category_path, "CP-IM-RES-DOC-001.md"),
                'category': category,
                'doc_id': "01",
                'doc_name': "预留文档",
                'doc_desc': "预留文档，用于记录未来可能添加的内容",
                'tags': f"[{category}],[预留文档]"
            }

            for doc_id, doc_name, doc_desc, tags in content:
                file_name = f"{doc_id}-CP-IM-{category.split('-')[-1]}-{doc_name}.md"
                file_path = os.path.join(category_path, file_name)
                yield {
                    'type': 'document',
                    'path': file_path,
                    'category': category,
                    'doc_id': doc_id,
                    'doc_name': doc_name,
                    'doc_desc': doc_desc,
                    'tags': tags
                }
        # 如果内容是字典（二级目录）
        elif isinstance(content, dict):
            for subcategory, docs in content.items():
                subcategory_path = os.path.join(category_path, subcategory)
                os.makedirs(subcategory_path, exist_ok=True)

                # 生成子目录的README文件
                sub_readme_path = os.path.join(subcategory_path, "README.md")
                yield {
                    'type': 'readme',
                    'path': sub_readme_path,
                    'category': category,
                    'subcategory': subcategory,
                    'description': f"{category}/{subcategory} 目录文档索引"
                }

                # 如果子内容是列表（二级目录下的文档）
                if isinstance(docs, list):
                    # 添加预留文档
                    yield {
                        'type': 'reserved',
                        'path': os.path.join(subcategory_path, "CP-IM-RES-DOC-001.md"),
                        'category': category,
                        'subcategory': subcategory,
                        'doc_id': "01",
                        'doc_name': "预留文档",
                        'doc_desc': "预留文档，用于记录未来可能添加的内容",
                        'tags': f"[{category}],[{subcategory}],[预留文档]"
                    }

                    for doc_id, doc_name, doc_desc, tags in docs:
                        file_name = f"{doc_id}-CP-IM-{category.split('-')[-1]}-{doc_name}.md"
                        file_path = os.path.join(subcategory_path, file_name)
                        yield {
                            'type': 'document',
                            'path': file_path,
                            'category': category,
                            'subcategory': subcategory,
                            'doc_id': doc_id,
                            'doc_name': doc_name,
                            'doc_desc': doc_desc,
                            'tags': tags
                        }
                # 如果子内容是字典（三级目录）
                elif isinstance(docs, dict):
                    for third_level, third_docs in docs.items():
                        third_level_path = os.path.join(subcategory_path, third_level)
                        os.makedirs(third_level_path, exist_ok=True)

                        # 生成三级目录的README文件
                        third_readme_path = os.path.join(third_level_path, "README.md")
                        yield {
                            'type': 'readme',
                            'path': third_readme_path,
                            'category': category,
                            'subcategory': subcategory,
                            'third_level': third_level,
                            'description': f"{category}/{subcategory}/{third_level} 目录文档索引"
                        }

                        # 添加预留文档
                        yield {
                            'type': 'reserved',
                            'path': os.path.join(third_level_path, "CP-IM-RES-DOC-001.md"),
                            'category': category,
                            'subcategory': subcategory,
                            'third_level': third_level,
                            'doc_id': "01",
                            'doc_name': "预留文档",
                            'doc_desc': "预留文档，用于记录未来可能添加的内容",
                            'tags': f"[{category}],[{subcategory}],[{third_level}],[预留文档]"
                        }

                        for doc_id, doc_name, doc_desc, tags in third_docs:
                            file_name = f"{doc_id}-CP-IM-{category.split('-')[-1]}-{doc_name}.md"
                            file_path = os.path.join(third_level_path, file_name)
                            yield {
                                'type': 'document',
                                'path': file_path,
                                'category': category,
                                'subcategory': subcategory,
                                'third_level': third_level,
                                'doc_id': doc_id,
                                'doc_name': doc_name,
                                'doc_desc': doc_desc,
                                'tags': tags
                            }

def generate_document_content(doc_info: dict, template: str, version: str, creation_date: str, status: str) -> str:
    """
    生成文档内容
    """
    doc_type = doc_info.get('type', 'document')
    file_name = os.path.basename(doc_info['path'])

    # 处理README文件
    if doc_type == 'readme':
        return generate_readme_content(doc_info, version, creation_date, status)

    # 处理预留文档
    if doc_type == 'reserved':
        return generate_reserved_content(doc_info, version, creation_date, status)

    # 处理普通文档
    return generate_normal_document_content(doc_info, template, version, creation_date, status)

def generate_normal_document_content(doc_info: dict, template: str, version: str, creation_date: str, status: str) -> str:
    """
    生成普通文档内容
    """
    file_name = os.path.basename(doc_info['path'])

    # 构建标题
    if 'third_level' in doc_info:
        title = f"{doc_info['category']} - {doc_info['subcategory']} - {doc_info['third_level']} - {doc_info['doc_name']}"
        doc_category = f"{doc_info['category']}/{doc_info['subcategory']}/{doc_info['third_level']}"
    elif 'subcategory' in doc_info:
        title = f"{doc_info['category']} - {doc_info['subcategory']} - {doc_info['doc_name']}"
        doc_category = f"{doc_info['category']}/{doc_info['subcategory']}"
    else:
        title = f"{doc_info['category']} - {doc_info['doc_name']}"
        doc_category = doc_info['category']

    content = template.format(
        FILE_NAME=file_name,
        DESCRIPTION=doc_info['doc_desc'],
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        TAGS=doc_info['tags'],
        TITLE=title,
        DOC_CATEGORY=doc_category,
        DOC_NAME=doc_info['doc_name']
    )

    return content

def generate_reserved_content(doc_info: dict, version: str, creation_date: str, status: str) -> str:
    """
    生成预留文档内容
    """
    file_name = os.path.basename(doc_info['path'])

    # 构建标题
    if 'third_level' in doc_info:
        title = f"{doc_info['category']} - {doc_info['subcategory']} - {doc_info['third_level']} - 预留文档"
        doc_category = f"{doc_info['category']}/{doc_info['subcategory']}/{doc_info['third_level']}"
    elif 'subcategory' in doc_info:
        title = f"{doc_info['category']} - {doc_info['subcategory']} - 预留文档"
        doc_category = f"{doc_info['category']}/{doc_info['subcategory']}"
    else:
        title = f"{doc_info['category']} - 预留文档"
        doc_category = doc_info['category']

    content = MAIN_MD_TEMPLATE.format(
        FILE_NAME=file_name,
        DESCRIPTION=doc_info['doc_desc'],
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        TAGS=doc_info['tags'],
        TITLE=title,
        DOC_CATEGORY=doc_category,
        DOC_NAME="预留文档"
    )

    return content

def generate_readme_content(doc_info: dict, version: str, creation_date: str, status: str) -> str:
    """
    生成目录 README 内容
    """
    category = doc_info.get('category', '')
    subcategory = doc_info.get('subcategory', '')
    third_level = doc_info.get('third_level', '')

    # 构建目录路径
    if third_level:
        dir_path = os.path.join("docs", category, subcategory, third_level)
        title = f"{category} - {subcategory} - {third_level}"
    elif subcategory:
        dir_path = os.path.join("docs", category, subcategory)
        title = f"{category} - {subcategory}"
    else:
        dir_path = os.path.join("docs", category)
        title = category

    # 读取实际目录结构
    subdir_list = []
    doc_list = []
    if os.path.exists(dir_path):
        for item in sorted(os.listdir(dir_path)):
            item_path = os.path.join(dir_path, item)
            if os.path.isdir(item_path):
                # 添加子目录
                subdir_list.append(f"- [{item}]({item}/README.md)")
            elif os.path.isfile(item_path) and item.endswith('.md') and item != 'README.md':
                # 读取文件获取描述
                description = ""
                try:
                    with open(item_path, 'r', encoding='utf-8') as f:
                        content = f.read()
                        # 尝试提取@description
                        desc_match = re.search(r'@description:\s*(.+)', content)
                        if desc_match:
                            description = desc_match.group(1).strip()
                except:
                    pass

                # 提取文档编号和名称
                doc_id = item.split('-')[0] if '-' in item else ""
                doc_name = item.replace('.md', '')

                doc_list.append(f"- **{doc_name}**\n  - {description}")

    # 构建文档列表内容
    content_parts = []

    if subdir_list:
        content_parts.append("## 子目录\n\n")
        content_parts.append("\n".join(subdir_list))
        content_parts.append("\n\n")

    if doc_list:
        content_parts.append("## 文档\n\n")
        content_parts.append("\n".join(doc_list))

    if not content_parts:
        doc_list_str = "暂无文档"
    else:
        doc_list_str = "\n".join(content_parts)

    content = README_MD_TEMPLATE.format(
        FILE_NAME="README.md",
        DESCRIPTION=f"{title} 目录文档索引",
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        TAGS=f"[{category}],[文档索引]",
        TITLE=title,
        DOC_LIST=doc_list_str
    )

    return content

def write_document(file_path: str, content: str, encoding: str) -> None:
    """
    写入文档文件
    """
    try:
        with open(file_path, 'w', encoding=encoding) as f:
            f.write(content)
        logger.info(f"✅ 已生成: {file_path}")
    except Exception as e:
        logger.error(f"❌ 生成失败: {file_path} - {str(e)}")

def generate_project(document_root: str, version: str, creation_date: str, status: str, encoding: str) -> None:
    """
    生成项目文档

    智能检测输出目录：
    - 如果 document_root 指定的目录已存在且非空，则自动生成到 new_<document_root> 目录
    - 如果 document_root 不存在或为空，则直接使用该目录
    """
    original_document_root = document_root

    # 检测输出目录是否存在且非空
    if os.path.exists(document_root):
        # 检查目录是否非空
        dir_contents = [item for item in os.listdir(document_root) if not item.startswith('.')]
        if dir_contents:
            logger.warning(f"⚠️  检测到目录 '{document_root}' 已存在且包含内容")
            logger.info(f"📦 目录包含 {len(dir_contents)} 个项目/文件夹")
            new_document_root = f"new_{document_root}"
            document_root = new_document_root
            logger.info(f"✨ 将生成到新目录: {document_root}")
            logger.info(f"💡 提示: 您可以在确认内容后手动移动或合并到 '{original_document_root}' 目录")
            logger.info("")
        else:
            logger.info(f"✅ 目录 '{document_root}' 存在但为空，将直接使用该目录")
    else:
        logger.info(f"✅ 目录 '{document_root}' 不存在，将创建新目录")

    logger.info("🚀 开始生成 YYC³-CP-IM 文档架构...")
    logger.info(f"📁 文档根目录: {document_root}")
    logger.info(f"📅 创建日期: {creation_date}")
    logger.info(f"🏷️  版本号: {version}")
    logger.info(f"📊 状态: {status}")
    logger.info(f"🔤 编码格式: {encoding}")
    logger.info("")

    # 创建文档根目录
    os.makedirs(document_root, exist_ok=True)

    # 生成文档
    total_docs = 0
    readme_files = []

    for doc_info in create_directory_structure(document_root, PROJECT_STRUCT):
        # 处理README文件
        if doc_info.get('type') == 'readme':
            readme_files.append(doc_info)
            continue

        # 生成文档内容
        content = generate_document_content(doc_info, MAIN_MD_TEMPLATE, version, creation_date, status)
        write_document(doc_info['path'], content, encoding)
        total_docs += 1

    # 生成README文件（在所有文档生成完成后）
    for readme_info in readme_files:
        readme_content = generate_readme_content(readme_info, version, creation_date, status)
        write_document(readme_info['path'], readme_content, encoding)
        total_docs += 1

    # 生成根目录 README
    root_readme_content = generate_root_readme_content(document_root, version, creation_date, status)
    root_readme_path = os.path.join(document_root, "README.md")
    write_document(root_readme_path, root_readme_content, encoding)
    total_docs += 1

    logger.info("")
    logger.info("🎉 文档生成完成！")
    logger.info(f"📊 总计生成文档: {total_docs} 个")
    logger.info(f"📁 文档根目录: {os.path.abspath(document_root)}")

def generate_root_readme_content(document_root: str, version: str, creation_date: str, status: str) -> str:
    """
    生成根目录 README 内容
    """
    # 构建文档树
    doc_tree = []

    for category in sorted(PROJECT_STRUCT.keys()):
        category_path = os.path.join(document_root, category)
        if os.path.exists(category_path):
            # 获取子目录
            subdirs = []
            files = []

            for item in sorted(os.listdir(category_path)):
                item_path = os.path.join(category_path, item)
                if os.path.isdir(item_path):
                    subdirs.append(item)
                elif os.path.isfile(item_path) and item.endswith('.md') and item != 'README.md':
                    files.append(item)

            # 构建目录结构
            category_section = f"### {category}\n\n"

            # 添加子目录
            if subdirs:
                category_section += "**子目录：**\n\n"
                for subdir in subdirs:
                    category_section += f"- [{subdir}]({category}/{subdir}/README.md)\n"
                category_section += "\n"

            # 添加文件
            if files:
                category_section += "**文档：**\n\n"
                for file in files:
                    file_path = os.path.join(category_path, file)
                    description = ""
                    try:
                        with open(file_path, 'r', encoding='utf-8') as f:
                            content = f.read()
                            desc_match = re.search(r'@description:\s*(.+)', content)
                            if desc_match:
                                description = desc_match.group(1).strip()
                    except:
                        pass

                    category_section += f"- [{file}]({category}/{file}) - {description}\n"

            doc_tree.append(category_section)

    # 构建功能概述
    function_overview = """
## 主要目录功能概述

| 目录 | 功能描述 |
|------|----------|
| 00-YYC³-CP-IM-项目总览索引 | 项目总览和导航，提供项目整体视角 |
| 01-YYC³-CP-IM-启动规划阶段 | 项目启动和规划阶段，包含项目规划、需求规划、可行性分析等 |
| 02-YYC³-CP-IM-设计阶段 | 系统设计阶段，包含架构设计、详细设计、数据设计等 |
| 03-YYC³-CP-IM-开发实施阶段 | 开发实施阶段，包含开发规范、技术文档、API文档等 |
| 04-YYC³-CP-IM-测试与审核阶段 | 测试与审核阶段，包含测试策略、测试用例、测试报告等 |
| 05-YYC³-CP-IM-交付与部署阶段 | 交付与部署阶段，包含部署准备、部署手册、发布流程等 |
| 06-YYC³-CP-IM-运营与维护阶段 | 运营与维护阶段，包含监控告警、运维手册、问题管理等 |
| 07-YYC³-CP-IM-合规与安全 | 合规与安全管理，包含合规管理、安全管理、权限管理等 |
| 08-YYC³-CP-IM-资产与知识管理 | 资产与知识管理，包含技术资产、知识产权、知识库等 |
| 09-YYC³-CP-IM-演进与优化 | 演进与优化，包含智能演进、功能演进、架构演进等 |

"""

    # 构建查阅指南
    reading_guide = """
## 文档查阅指南

### 快速导航
- **项目总览**：从 [00-YYC³-CP-IM-项目总览索引](00-YYC³-CP-IM-项目总览索引/README.md) 开始了解项目整体情况
- **按阶段查阅**：根据项目所处阶段，选择对应的目录进行深入阅读
- **按主题查阅**：使用搜索功能快速定位相关主题文档

### 文档结构说明
- **一级目录**：按项目阶段划分（如启动规划、设计、开发等）
- **二级目录**：按功能模块划分（如项目规划、需求规划等）
- **三级目录**：按技术层次划分（如九层架构的各层）
- **预留文档**：每个目录都包含一个编号为"01"的预留文档，用于记录未来可能添加的内容

### 自动同步机制
- 所有目录的 README.md 文件会自动同步显示当前目录下的所有文档
- 根目录的 README.md 会自动同步显示所有子目录的结构
- 每次运行脚本时，README 文件会自动更新以反映最新的文档结构

"""

    doc_tree_str = "\n".join(doc_tree)

    content = ROOT_README_TEMPLATE.format(
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        DOC_TREE=doc_tree_str,
        FUNCTION_OVERVIEW=function_overview,
        READING_GUIDE=reading_guide
    )

    return content

def validate_document(file_path: str) -> dict:
    """
    验证单个文档
    """
    result = {
        'valid': True,
        'errors': [],
        'warnings': []
    }

    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()

        # 检查必需的元数据字段
        required_fields = ['@file:', '@description:', '@author:', '@version:', '@created:']
        for field in required_fields:
            if field not in content:
                result['errors'].append(f"缺少必需字段: {field}")
                result['valid'] = False

        # 检查品牌信息
        brand_info = ['YanYuCloudCube', '言启象限', '语枢未来']
        brand_found = any(info in content for info in brand_info)
        if not brand_found:
            result['warnings'].append("缺少品牌信息")

        # 检查五高五标五化
        yyc3_info = ['五高', '五标', '五化']
        yyc3_found = any(info in content for info in yyc3_info)
        if not yyc3_found:
            result['warnings'].append("缺少五高五标五化信息")

    except Exception as e:
        result['errors'].append(f"读取文件失败: {str(e)}")
        result['valid'] = False

    return result

def validate_all_documents(args) -> None:
    """
    验证所有文档
    """
    logger.info("🔍 开始验证文档...")

    document_root = args.document_root
    total_docs = 0
    valid_docs = 0
    invalid_docs = 0

    for root, dirs, files in os.walk(document_root):
        for file in files:
            if file.endswith('.md'):
                file_path = os.path.join(root, file)
                result = validate_document(file_path)
                total_docs += 1

                if result['valid']:
                    valid_docs += 1
                    if result['warnings']:
                        logger.warning(f"⚠️  {file_path}: {', '.join(result['warnings'])}")
                else:
                    invalid_docs += 1
                    logger.error(f"❌ {file_path}: {', '.join(result['errors'])}")

    logger.info("")
    logger.info("📊 验证结果:")
    logger.info(f"  总计文档: {total_docs}")
    logger.info(f"  有效文档: {valid_docs}")
    logger.info(f"  无效文档: {invalid_docs}")

    if invalid_docs > 0:
        logger.error("❌ 存在无效文档，请修复后重新验证")
        sys.exit(1)
    else:
        logger.info("✅ 所有文档验证通过")

def update_document(file_path: str, version: str, creation_date: str) -> bool:
    """
    更新单个文档
    """
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()

        # 更新版本号
        content = re.sub(r'@version:\s*\S+', f'@version: {version}', content)

        # 更新创建日期
        content = re.sub(r'@created:\s*\S+', f'@created: {creation_date}', content)

        # 更新更新日期
        content = re.sub(r'@updated:\s*\S+', f'@updated: {creation_date}', content)

        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(content)

        return True
    except Exception as e:
        logger.error(f"❌ 更新失败: {file_path} - {str(e)}")
        return False

def update_all_documents(args) -> None:
    """
    更新所有文档
    """
    logger.info("🔄 开始更新文档...")

    document_root = args.document_root
    version = args.version
    creation_date = args.creation_date

    total_docs = 0
    updated_docs = 0

    for root, dirs, files in os.walk(document_root):
        for file in files:
            if file.endswith('.md'):
                file_path = os.path.join(root, file)
                if update_document(file_path, version, creation_date):
                    updated_docs += 1
                total_docs += 1

    logger.info("")
    logger.info("📊 更新结果:")
    logger.info(f"  总计文档: {total_docs}")
    logger.info(f"  更新文档: {updated_docs}")
    logger.info(f"  版本号: {version}")
    logger.info(f"  更新日期: {creation_date}")

# ===================== 主函数 =====================

def main():
    parser = argparse.ArgumentParser(description='YYC³-CP-IM 文档架构一键生成脚本')
    parser.add_argument('--mode', type=str, default='generate',
                        choices=['generate', 'validate', 'update'],
                        help='运行模式: generate(生成文档), validate(验证文档), update(更新文档)')
    parser.add_argument('--document-root', type=str, default=DOCUMENT_ROOT,
                        help='文档根目录路径')
    parser.add_argument('--version', type=str, default=VERSION,
                        help='文档版本号')
    parser.add_argument('--creation-date', type=str, default=CREATION_DATE,
                        help='文档创建日期 (YYYY-MM-DD)')
    parser.add_argument('--status', type=str, default=STATUS,
                        help='文档状态')
    parser.add_argument('--encoding', type=str, default=ENCODING,
                        help='文档编码格式')

    args = parser.parse_args()

    try:
        if args.mode == 'generate':
            document_root = args.document_root
            version = args.version
            creation_date = args.creation_date
            status = args.status
            encoding = args.encoding

            # 生成项目文档
            generate_project(document_root, version, creation_date, status, encoding)
        elif args.mode == 'validate':
            validate_all_documents(args)
        elif args.mode == 'update':
            update_all_documents(args)
        else:
            print(f"❌ 未知模式: {args.mode}")
            print("可用模式: generate, validate, update")
    except Exception as e:
        logger.error(f"❌ 执行失败: {str(e)}")
        sys.exit(1)

if __name__ == '__main__':
    main()
